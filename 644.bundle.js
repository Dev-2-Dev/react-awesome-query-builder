"use strict";(self.webpackChunkreact_awesome_query_builder_demo_local=self.webpackChunkreact_awesome_query_builder_demo_local||[]).push([[644],{44644:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var l=r(25773),n=r(64649),a=r(11026),o=r(27378),i=r(54216),c=(r(32524),r(53568)),u=r(38688),s=[{id:"foo",label:"Foo",properties:["REQUIRED","CREATE","UPDATE"],type:{format:"INTEGER"}},{id:"bar",label:"Bar",properties:["REQUIRED","CREATE","UPDATE"],type:{format:"INTEGER"}}],p=function(e){var t,r,l=e.k,n=e.value,a=e.setValue;return o.createElement(u.Z,{menuPortalTarget:document.body,key:l,isMulti:!0,options:s,value:(t=s,r=n,r?r.map((function(e){var r="const"!=e.type&&t&&t.find((function(t){return t.id===e.value}));return r||(r={id:e.value,label:e.value,__isNew__:!0}),r})):[]),getOptionValue:function(e){return e.id},getOptionLabel:function(e){return e.label},onChange:function(e,t){!function(e,t,r){var l=e.map((function(e){return{value:e.id||e.label,type:e.__isNew__?"const":"property"}}));r(l)}(e,0,a)}})};const f=(0,o.memo)(p);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,l)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y,v,E,O=(v=m(m({},(y=c.Z).widgets),{},{case_value:m(m({},y.widgets.case_value),{},{spelFormatValue:i.cQ.ExportUtils.spelFormatConcat,spelImportValue:i.cQ.ExportUtils.spelImportConcat,factory:function(e){var t=e.value,r=e.setValue,l=e.id;return o.createElement(f,{value:t,setValue:r,k:l})}})}),E=m(m({},y.settings),{},{maxNumberOfCases:3,canRegroupCases:!0,maxNesting:3,canLeaveEmptyCase:!1}),m(m({},y),{},{widgets:v,fields:{text:{label:"Text",type:"text",valueSources:["value","field"],excludeOperators:["proximity"]},qty:{label:"Qty",type:"number",fieldSettings:{min:0},valueSources:["value","field"],preferWidgets:["number"]},price:{label:"Price",type:"number",valueSources:["value"],fieldSettings:{min:10,max:100},preferWidgets:["slider","rangeslider"],isSpelVariable:!0},color:{label:"Color",type:"select",valueSources:["value"],fieldSettings:{listValues:[{value:"yellow",title:"Yellow"},{value:"green",title:"Green"},{value:"orange",title:"Orange"}]}},is_promotion:{label:"Promo?",type:"boolean",operators:["equal"],valueSources:["value"]}},settings:E})),w={backgroundColor:"lightpink",margin:"10px",padding:"10px"},S={id:i.cQ.uuid(),type:"switch_group"},j=i.cQ.checkTree(i.cQ.loadTree(S),O);const _=function(){var e=(0,o.useState)({tree:j,config:O,spelStr:"",spelErrors:[]}),t=(0,a.Z)(e,2),r=t[0],n=t[1],c=(0,o.useCallback)((function(e,t){n((function(r){return g(g({},r),{},{tree:e,config:t})}))}),[]),u=(0,o.useCallback)((function(e){return o.createElement("div",{className:"query-builder-container",style:{padding:"10px"}},o.createElement("div",{className:"query-builder qb-lite"},o.createElement(i.Ib,e)))}),[]);return o.createElement("div",null,o.createElement("div",{className:"query-import-spel"},"Input SpEL:",o.createElement("input",{type:"text",size:150,value:r.spelStr,onChange:function(e){var t=e.target.value;n(g(g({},r),{},{spelStr:t}))}}),o.createElement("button",{onClick:function(){var e=i.cQ.loadFromSpel(r.spelStr,r.config),t=(0,a.Z)(e,2),l=t[0],o=t[1];n(g(g({},r),{},{tree:l?i.cQ.checkTree(l,r.config):r.tree,spelErrors:o}))}},"import"),o.createElement("br",null),r.spelErrors.length>0&&o.createElement("pre",{style:w},JSON.stringify(r.spelErrors,void 0,2))),o.createElement(i.AE,(0,l.Z)({},O,{value:r.tree,onChange:c,renderBuilder:u})),o.createElement("div",{className:"query-builder-result"},"Output SpEL:",o.createElement("pre",null,i.cQ.spelFormat(r.tree,r.config)),"Values:",o.createElement("pre",null,JSON.stringify(i.cQ.getSwitchValues(r.tree),void 0,2))))}}}]);
//# sourceMappingURL=644.bundle.js.map