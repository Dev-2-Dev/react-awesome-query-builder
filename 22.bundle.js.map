{"version":3,"file":"22.bundle.js","mappings":"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","sources":["webpack://@react-awesome-query-builder/examples/./skins/index.tsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/moment/DatePicker.tsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/moment/Calendar.tsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/moment/TimePicker.tsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Date.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/DateTime.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Time.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/utils/domUtils.js","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Select.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Text.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/TextArea.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Number.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Slider.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Range.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Boolean.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/MultiSelect.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/Autocomplete.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/utils/stuff.js","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/value/TreeSelect.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/FieldSelect.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/FieldDropdown.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/FieldCascader.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/FieldTreeSelect.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/ButtonGroup.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/Conjs.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/ValueSources.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/confirm.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/index.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/Button.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/widgets/core/Switch.jsx","webpack://@react-awesome-query-builder/examples/../antd/modules/config/index.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiTime.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiSelect.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiMultiSelect.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiAutocomplete.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiFieldAutocomplete.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/index.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiText.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiTextArea.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiDate.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiDateTime.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiNumber.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiSlider.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiRange.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/value/MuiBoolean.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiFieldSelect.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiButton.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiButtonGroup.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiConjs.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiSwitch.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiValueSources.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/widgets/core/MuiConfirm.jsx","webpack://@react-awesome-query-builder/examples/../mui/modules/config/index.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapDateTime.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapSelect.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapBoolean.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapMultiSelect.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/index.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapText.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapTextArea.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapDate.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapTime.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapNumber.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/value/BootstrapSlider.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/core/BootstrapFieldSelect.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/core/BootstrapButton.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/core/BootstrapButtonGroup.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/core/BootstrapConjs.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/core/BootstrapValueSources.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/widgets/core/BootstrapConfirm.jsx","webpack://@react-awesome-query-builder/examples/../bootstrap/modules/config/index.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUIDate.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUIDateTime.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUITime.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUISelect.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUIMultiSelect.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/index.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUIText.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUITextArea.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUINumber.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUISlider.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/value/FluentUIBoolean.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/core/FluentUIFieldSelect.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/core/FluentUIButton.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/core/FluentUIButtonGroup.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/core/FluentUIConjs.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/core/FluentUIValueSources.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/widgets/core/FluentUIConfirm.jsx","webpack://@react-awesome-query-builder/examples/../fluent/modules/config/index.jsx","webpack://@react-awesome-query-builder/examples/./demo/config.tsx","webpack://@react-awesome-query-builder/examples/./demo/init_value.js","webpack://@react-awesome-query-builder/examples/./demo/init_logic.js","webpack://@react-awesome-query-builder/examples/./demo/index.tsx"],"sourcesContent":["import React from \"react\";\n\nconst ImportUi = React.lazy(() => import(\"./ui\"));\nconst ImportAntd = React.lazy(() => import(\"./antd\"));\nconst ImportMui = React.lazy(() => import(\"./mui\"));\nconst ImportMaterial = React.lazy(() => import(\"./material\"));\nconst ImportBootstrap = React.lazy(() => import(\"./bootstrap\"));\nconst ImportFluent = React.lazy(() => import(\"./fluent\"));\n\nconst skinToImport: Record<string, React.LazyExoticComponent<React.ComponentType<any>>> = {\n  vanilla: ImportUi,\n  mui: ImportMui,\n  antd: ImportAntd,\n  material: ImportMaterial,\n  bootstrap: ImportBootstrap,\n  fluent: ImportFluent\n};\n\nconst Import: React.FC<{skin: string}> = ({\n  skin\n}) => {\n  const Import = skinToImport[skin];\n  return <React.Suspense fallback={<>loading styles for {skin}</>}><Import /></React.Suspense>;\n};\n\nexport default Import;\n","import type { Moment } from \"@react-awesome-query-builder/ui\";\nimport momentGenerateConfig from \"rc-picker/lib/generate/moment\";\nimport generatePicker from \"antd/es/date-picker/generatePicker\";\n\nconst DatePicker = generatePicker<Moment>(momentGenerateConfig);\n\nexport default DatePicker;\n","import type { Moment } from \"@react-awesome-query-builder/ui\";\nimport momentGenerateConfig from \"rc-picker/lib/generate/moment\";\nimport generateCalendar from \"antd/es/calendar/generateCalendar\";\n\nconst Calendar = generateCalendar<Moment>(momentGenerateConfig);\n\nexport default Calendar;","import type { Moment } from \"@react-awesome-query-builder/ui\";\nimport * as React from \"react\";\nimport type { PickerTimeProps } from \"antd/es/date-picker/generatePicker\";\nimport DatePicker from \"./DatePicker\";\n\nexport interface TimePickerProps extends Omit<PickerTimeProps<Moment>, \"picker\"> {}\n\nconst TimePicker = React.forwardRef<any, TimePickerProps>((props, ref) => (\n  <DatePicker {...props} picker=\"time\" mode={undefined} ref={ref} />\n));\n\nTimePicker.displayName = \"TimePicker\";\n\nexport default TimePicker;\n","import React, { PureComponent } from \"react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nimport PropTypes from \"prop-types\";\nimport { DatePicker } from \"../moment\";\nconst { RangePicker } = DatePicker;\nconst { moment } = Utils;\n\n\nexport default class DateWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]) , //in valueFormat\n    field: PropTypes.string.isRequired,\n    config: PropTypes.object.isRequired,\n    placeholder: PropTypes.string,\n    placeholders: PropTypes.arrayOf(PropTypes.string),\n    customProps: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    dateFormat: PropTypes.string,\n    valueFormat: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n\n    const {value, setValue} = props;\n    if (!this.isValidValue(value)) {\n      setValue(this.formatValue(this.getMomentValue(value)));\n    }\n  }\n\n  static defaultProps = {\n    dateFormat: \"YYYY-MM-DD\",\n    valueFormat: \"YYYY-MM-DD\",\n  };\n\n  isValidSingleValue = (value) => {\n    const {valueFormat} = this.props;\n    let v = value ? moment(value, valueFormat) : null;\n    return !v || v && v.isValid();\n  };\n\n  isValidValue = (value) => {\n    const {isSpecialRange} = this.props;\n    if (isSpecialRange)\n      return value ? value.map(el => this.isValidSingleValue(el)).reduce((res, item) => (res && item), true) : true;\n    else\n      return this.isValidSingleValue(value);\n  };\n\n  getMomentSingleValue = (value) => {\n    const {valueFormat} = this.props;\n    let v = value ? moment(value, valueFormat) : null;\n    if (v && !v.isValid())\n      v = null;\n    return v;\n  };\n\n  getMomentValue = (value) => {\n    const {isSpecialRange} = this.props;\n    if (isSpecialRange)\n      return value ? value.map(el => this.getMomentSingleValue(el)) : [null, null];\n    else\n      return this.getMomentSingleValue(value);\n  };\n\n  formatSingleValue = (value) => {\n    const {valueFormat} = this.props;\n    return value && value.isValid() ? value.format(valueFormat) : undefined;\n  };\n\n  formatValue = (value) => {\n    const {isSpecialRange} = this.props;\n    if (isSpecialRange)\n      return value ? value.map(el => this.formatSingleValue(el)) : [undefined, undefined];\n    else\n      return this.formatSingleValue(value);\n  };\n\n  handleChange = (value) => {\n    const {setValue} = this.props;\n    if (this.isValidValue(value)) {\n      setValue(this.formatValue(value));\n    }\n  };\n\n  render() {\n    const {placeholder, placeholders, customProps, value, dateFormat, config, readonly, isSpecialRange} = this.props;\n    const {renderSize} = config.settings;\n    const dateValue = this.getMomentValue(value);\n\n    if (isSpecialRange) {\n      return (\n        <RangePicker\n          disabled={readonly}\n          key=\"widget-date\"\n          placeholder={placeholders}\n          size={renderSize}\n          format={dateFormat}\n          value={dateValue}\n          onChange={this.handleChange}\n          {...customProps}\n        />\n      );\n    } else {\n      return (\n        <DatePicker\n          disabled={readonly}\n          key=\"widget-date\"\n          placeholder={placeholder}\n          size={renderSize}\n          format={dateFormat}\n          value={dateValue}\n          onChange={this.handleChange}\n          {...customProps}\n        />\n      );\n    }\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { DatePicker } from \"../moment\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { moment } = Utils;\n\n\nexport default class DateTimeWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    value: PropTypes.string, //in valueFormat\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    customProps: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    timeFormat: PropTypes.string,\n    dateFormat: PropTypes.string,\n    valueFormat: PropTypes.string,\n    use12Hours: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    const {valueFormat, value, setValue} = props;\n    let mValue = value ? moment(value, valueFormat) : null;\n    if (mValue && !mValue.isValid()) {\n      setValue(null);\n    }\n  }\n\n  static defaultProps = {\n    timeFormat: \"HH:mm\",\n    dateFormat: \"YYYY-MM-DD\",\n    valueFormat: \"YYYY-MM-DD HH:mm:ss\",\n    use12Hours: false,\n  };\n\n  handleChange = (aValue) => {\n    const {setValue, valueFormat} = this.props;\n    const value = aValue && aValue.isValid() ? aValue.format(valueFormat) : undefined;\n    if (value || aValue === null)\n      setValue(value);\n  };\n\n  render() {\n    const {placeholder, customProps, value, valueFormat, dateFormat, timeFormat, use12Hours, config, readonly} = this.props;\n    const {renderSize} = config.settings;\n    const dateValue = value ? moment(value, valueFormat) : null;\n    const dateTimeFrmat = dateFormat + \" \" + timeFormat;\n\n    return (\n      <DatePicker\n        disabled={readonly}\n        key=\"widget-datetime\"\n        use12Hours={use12Hours}\n        showTime={{ format: timeFormat }}\n        placeholder={placeholder}\n        size={renderSize}\n        format={dateTimeFrmat}\n        value={dateValue}\n        onChange={this.handleChange}\n        {...customProps}\n      />\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TimePicker } from \"../moment\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { moment } = Utils;\n\n\nexport default class TimeWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    value: PropTypes.string, //in valueFormat\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    customProps: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    timeFormat: PropTypes.string,\n    valueFormat: PropTypes.string,\n    use12Hours: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    const {valueFormat, value, setValue} = props;\n    let mValue = value ? moment(value, valueFormat) : null;\n    if (mValue && !mValue.isValid()) {\n      setValue(null);\n    }\n  }\n\n  static defaultProps = {\n    timeFormat: \"HH:mm\",\n    valueFormat: \"HH:mm:ss\",\n    use12Hours: false,\n  };\n\n\n  handleChange = (aValue) => {\n    const {setValue, valueFormat, timeFormat} = this.props;\n    if (aValue && aValue.isValid() && timeFormat == \"HH:mm\") {\n      aValue.set({second:0, millisecond:0});\n    }\n    const value = aValue && aValue.isValid() ? aValue.format(valueFormat) : undefined;\n    if (value || aValue === null)\n      setValue(value);\n  };\n\n  render() {\n    const {placeholder, customProps, value, valueFormat, timeFormat, use12Hours, config, readonly} = this.props;\n    const {renderSize} = config.settings;\n    const timeValue = value ? moment(value, valueFormat) : null;\n\n    return (\n      <TimePicker\n        disabled={readonly}\n        use12Hours={use12Hours}\n        key=\"widget-time\"\n        size={renderSize}\n        placeholder={placeholder}\n        format={timeFormat}\n        value={timeValue}\n        onChange={this.handleChange}\n        {...customProps}\n      />\n    );\n  }\n}\n","export const SELECT_WIDTH_OFFSET_RIGHT = 48;\nconst DEFAULT_FONT_SIZE = \"14px\";\nconst DEFAULT_FONT_FAMILY = \"'Helvetica Neue', Helvetica, Arial, sans-serif\";\n\nexport const BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: [\"tl\", \"bl\"],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1,\n    },\n  },\n  bottomRight: {\n    points: [\"tr\", \"br\"],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n  topLeft: {\n    points: [\"bl\", \"tl\"],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1,\n    },\n  },\n  topRight: {\n    points: [\"br\", \"tr\"],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1,\n    },\n  },\n};\n\nexport const calcTextWidth = function(str, fontFamily = DEFAULT_FONT_FAMILY, fontSize = DEFAULT_FONT_SIZE) {\n  if (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    div.innerHTML = str;\n    var css = {\n      \"position\": \"absolute\", \"float\": \"left\", \"white-space\": \"nowrap\", \"visibility\": \"hidden\", \n      \"font-size\": fontSize, \"font-family\": fontFamily\n    };\n    for (let k in css) {\n      div.style[k] = css[k];\n    }\n    div = document.body.appendChild(div);\n    var w = div.offsetWidth;\n    document.body.removeChild(div);\n    return w;\n  } else {\n    return undefined;\n  }\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {calcTextWidth, SELECT_WIDTH_OFFSET_RIGHT} from \"../../utils/domUtils\";\nimport { Select } from \"antd\";\nimport omit from \"lodash/omit\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { useOnPropsChanged } = Utils.ReactUtils;\nconst { mapListValues } = Utils.ListUtils;\nconst Option = Select.Option;\n\nexport default class SelectWidget extends Component {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]), //key in listValues\n    customProps: PropTypes.object,\n    fieldDefinition: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    listValues: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  };\n\n  constructor(props) {\n    super(props);\n    useOnPropsChanged(this);\n    this.onPropsChanged(props);\n  }\n\n  onPropsChanged(nextProps) {\n    const {listValues} = nextProps;\n\n    let optionsMaxWidth = 0;\n    mapListValues(listValues, ({title, value}) => {\n      optionsMaxWidth = Math.max(optionsMaxWidth, calcTextWidth(title, null));\n    });\n    if (!isNaN(optionsMaxWidth) && optionsMaxWidth) {\n      this.optionsMaxWidth = optionsMaxWidth;\n    }\n\n    this.options = mapListValues(listValues, ({title, value}) => {\n      return (<Option key={value+\"\"} value={value+\"\"}>{title}</Option>);\n    });\n  }\n\n  handleChange = (val) => {\n    this.props.setValue(val);\n  };\n\n  filterOption = (input, option) => {\n    const dataForFilter = option.children || option.value;\n    return dataForFilter.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  };\n\n  render() {\n    const {config, placeholder, customProps, value, readonly} = this.props;\n    const {renderSize} = config.settings;\n    const placeholderWidth = calcTextWidth(placeholder);\n    const dropdownWidth = this.optionsMaxWidth ? this.optionsMaxWidth + SELECT_WIDTH_OFFSET_RIGHT : null;\n    const dropdownEmptyWidth = placeholderWidth ? placeholderWidth + SELECT_WIDTH_OFFSET_RIGHT : null;\n    const width = value ? dropdownWidth : dropdownEmptyWidth;\n    const aValue = value != undefined ? value+\"\" : undefined;\n    const customSelectProps = omit(customProps, [\"\"]);\n\n    return (\n      <Select\n        disabled={readonly}\n        style={{ width }}\n        key={\"widget-select\"}\n        dropdownMatchSelectWidth={false}\n        placeholder={placeholder}\n        size={renderSize}\n        value={aValue}\n        onChange={this.handleChange}\n        filterOption={this.filterOption}\n        {...customSelectProps}\n      >{this.options}\n      </Select>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Input, Col } from \"antd\";\n\nexport default class TextWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    placeholder: PropTypes.string,\n    config: PropTypes.object.isRequired,\n    value: PropTypes.string,\n    field: PropTypes.string.isRequired,\n    readonly: PropTypes.bool,\n    customProps: PropTypes.object,\n    maxLength: PropTypes.number,\n  };\n\n  handleChange = (ev) => {\n    const v = ev.target.value;\n    const val = v === \"\" ? undefined : v; // don't allow empty value\n    this.props.setValue(val);\n  };\n\n  render() {\n    const {config, placeholder, customProps, value, readonly, maxLength} = this.props;\n    const {renderSize} = config.settings;\n    const aValue = value != undefined ? value : null;\n\n    return (\n      <Col>\n        <Input\n          disabled={readonly}\n          key=\"widget-text\"\n          size={renderSize}\n          type={\"text\"}\n          value={aValue}\n          placeholder={placeholder}\n          maxLength={maxLength}\n          onChange={this.handleChange}\n          {...customProps}\n        />\n      </Col>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Input, Col } from \"antd\";\nconst { TextArea } = Input;\n\nexport default class TextAreaWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    placeholder: PropTypes.string,\n    config: PropTypes.object.isRequired,\n    value: PropTypes.string,\n    field: PropTypes.string.isRequired,\n    readonly: PropTypes.bool,\n    customProps: PropTypes.object,\n    maxLength: PropTypes.number,\n    maxRows: PropTypes.number,\n  };\n\n  handleChange = (ev) => {\n    const v = ev.target.value;\n    const val = v === \"\" ? undefined : v; // don't allow empty value\n    this.props.setValue(val);\n  };\n\n  render() {\n    const {config, placeholder, customProps, value, readonly, maxLength, maxRows, fullWidth} = this.props;\n    const {renderSize, defaultMaxRows} = config.settings;\n    const aValue = value != undefined ? value : null;\n\n    return (\n      <Col>\n        <TextArea\n          autoSize={{minRows: 1, maxRows: maxRows || defaultMaxRows}}\n          maxLength={maxLength}\n          disabled={readonly}\n          key=\"widget-textarea\"\n          size={renderSize}\n          value={aValue}\n          placeholder={placeholder}\n          onChange={this.handleChange}\n          {...customProps}\n        />\n      </Col>\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { InputNumber, Col } from \"antd\";\n\nexport default class NumberWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    placeholder: PropTypes.string,\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string.isRequired,\n    value: PropTypes.number,\n    customProps: PropTypes.object,\n    fieldDefinition: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n  };\n\n  handleChange = (val) => {\n    if (val === \"\" || val === null)\n      val = undefined;\n    this.props.setValue(val);\n  };\n\n  static defaultProps = {\n    min: undefined,\n    max: undefined,\n    step: undefined,\n  };\n\n  render() {\n    const {config, placeholder, customProps, value,  min, max, step, readonly} = this.props;\n    const {renderSize} = config.settings;\n    const aValue = value != undefined ? value : undefined;\n\n    return (\n      <Col>\n        <InputNumber\n          disabled={readonly}\n          key=\"widget-number\"\n          size={renderSize}\n          value={aValue}\n          min={min}\n          max={max}\n          step={step}\n          placeholder={placeholder}\n          onChange={this.handleChange}\n          {...customProps}\n        />\n      </Col>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Slider, InputNumber, Col } from \"antd\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { useOnPropsChanged, pureShouldComponentUpdate } = Utils.ReactUtils;\nconst __isInternal = true; //true to optimize render\n\nexport default class SliderWidget extends Component {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    placeholder: PropTypes.string,\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string.isRequired,\n    value: PropTypes.number,\n    customProps: PropTypes.object,\n    fieldDefinition: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    marks: PropTypes.object,\n  };\n\n  static defaultProps = {\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: undefined,\n  };\n\n  state = {\n  };\n\n  constructor(props) {\n    super(props);\n    this.pureShouldComponentUpdate = pureShouldComponentUpdate(this);\n    useOnPropsChanged(this);\n\n    this.state.internalValue = props.value;\n  }\n\n  onPropsChanged(nextProps) {\n    this.setState({internalValue: nextProps.value});\n  }\n\n  handleChange = (val) => {\n    if (val === \"\")\n      val = undefined;\n    if (__isInternal)\n      this.setState({internalValue: val});\n    this.props.setValue(val, undefined, __isInternal);\n  };\n\n  tipFormatter = (val) => (val != undefined ? val.toString() : undefined);\n\n  shouldComponentUpdate = (nextProps, nextState) => {\n    const should = this.pureShouldComponentUpdate(nextProps, nextState);\n    if (should) {\n      // RHL fix\n      if (this.props.cacheBusterProp && __isInternal) {\n        nextState.internalValue = this.state.internalValue;\n      }\n    }\n    return should;\n  };\n\n  render() {\n    const {config, placeholder, customProps, value,  min, max, step, marks, readonly, valueError} = this.props;\n    const {renderSize, showErrorMessage, defaultSliderWidth} = config.settings;\n    const {width, ...rest} = customProps || {};\n    const customInputProps = rest.input || {};\n    const customSliderProps = rest.slider || rest;\n\n    const canUseInternal = showErrorMessage ? true : !valueError;\n    let aValue = __isInternal && canUseInternal ? this.state.internalValue : value;\n    if (aValue == undefined)\n      aValue = null;\n    const sliderValue = aValue == null && min ? min : aValue;\n      \n    return (\n      <Col style={{display: \"inline-flex\", flexWrap: \"wrap\"}}>\n        <Col style={{float: \"left\", marginRight: \"5px\"}}>\n          <InputNumber\n            disabled={readonly}\n            size={renderSize}\n            value={aValue}\n            min={min}\n            max={max}\n            step={step}\n            placeholder={placeholder}\n            onChange={this.handleChange}\n            {...customInputProps}\n          />\n        </Col>\n        <Col style={{float: \"left\", width: width || defaultSliderWidth}}>\n          <Slider\n            disabled={readonly}\n            value={sliderValue}\n            tooltip={{formatter: this.tipFormatter}}\n            min={min}\n            max={max}\n            included={false}\n            step={step}\n            marks={marks}\n            onChange={this.handleChange}\n            {...customSliderProps}\n          />\n        </Col>\n        <Col style={{clear: \"both\"}} />\n      </Col>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Slider, InputNumber, Col } from \"antd\";\n\nexport default class RangeWidget extends PureComponent {\n\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    placeholder: PropTypes.string,\n    placeholders: PropTypes.array,\n    textSeparators: PropTypes.array,\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string.isRequired,\n    value: PropTypes.array,\n    customProps: PropTypes.object,\n    fieldDefinition: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    min: PropTypes.number,\n    max: PropTypes.number,\n    step: PropTypes.number,\n    marks: PropTypes.object,\n  };\n\n  static defaultProps = {\n    min: 0,\n    max: 100,\n    step: 1,\n    marks: undefined,\n  };\n\n  state = {\n  };\n\n  constructor(props) {\n    super(props);\n\n    const [valueFrom, valueTo] = props.value || [null, null];\n    if (props.value && (valueFrom == undefined || valueTo == undefined)) {\n      // happens if we changed op from '==' to 'between'\n      // (I know, timeout is dirty hack..)\n      setTimeout(() => {\n        const oneValue = valueFrom || valueTo;\n        const value = [oneValue, oneValue];\n        this.props.setValue(value);\n      }, 1);\n    }\n  }\n\n  handleChange = (value) => {\n    this.props.setValue(value);\n  };\n\n  handleChangeFrom = (valueFrom) => {\n    let value = this.props.value || [undefined, undefined];\n    if (valueFrom === \"\" || valueFrom == null)\n      valueFrom = undefined; //value[0];\n    value = [...value];\n    value[0] = valueFrom;\n    // if (value[1] == undefined)\n    //   value[1] = valueFrom;\n    this.props.setValue(value);\n  };\n  \n  handleChangeTo = (valueTo) => {\n    let value = this.props.value || [undefined, undefined];\n    if (valueTo === \"\" || valueTo == null)\n      valueTo = undefined; //value[1];\n    value = [...value];\n    value[1] = valueTo;\n    // if (value[0] == undefined)\n    //   value[0] = valueTo;\n    this.props.setValue(value);\n  };\n\n  tipFormatter = (val) => (val != undefined ? val.toString() : \"\");\n\n  render() {\n    const {config, placeholders, customProps, value,  min, max, step, marks, textSeparators, readonly} = this.props;\n    const {renderSize, defaultSliderWidth} = config.settings;\n    const {width, ...rest} = customProps || {};\n    const customInputProps = rest.input || {};\n    const customSliderProps = rest.slider || rest;\n    const aValue = value != undefined ? value : undefined;\n    const [valueFrom, valueTo] = aValue || [null, null];\n\n    return (\n      <Col style={{display: \"inline-flex\", flexWrap: \"wrap\"}}>\n        <Col style={{float: \"left\", marginRight: \"5px\"}}>\n          <InputNumber\n            disabled={readonly}\n            size={renderSize}\n            key=\"numFrom\"\n            value={valueFrom}\n            min={min}\n            max={max}\n            step={step}\n            placeholder={placeholders[0]}\n            onChange={this.handleChangeFrom}\n            {...customInputProps}\n          />\n        </Col>\n        <Col style={{float: \"left\", marginRight: \"5px\", lineHeight: \"20px\"}}>\n          <span>{ textSeparators[1] }</span>\n        </Col>\n        <Col style={{float: \"left\", marginRight: \"5px\"}}>\n          <InputNumber\n            disabled={readonly}\n            size={renderSize}\n            key=\"numTo\"\n            value={valueTo}\n            min={min}\n            max={max}\n            step={step}\n            placeholder={placeholders[1]}\n            onChange={this.handleChangeTo}\n            {...customInputProps}\n          />\n        </Col>\n        <Col style={{float: \"left\", width: width || defaultSliderWidth}}>\n          <Slider\n            disabled={readonly}\n            value={aValue}\n            tooltip={{formatter: this.tipFormatter}}\n            min={min}\n            max={max}\n            step={step}\n            marks={marks}\n            included={false}\n            range={true}\n            onChange={this.handleChange}\n            {...customSliderProps}\n          />\n        </Col>\n        <Col style={{clear: \"both\"}} />\n      </Col>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Switch } from \"antd\";\n\nexport default class BooleanWidget extends PureComponent {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    value: PropTypes.bool,\n    config: PropTypes.object.isRequired,\n    field: PropTypes.string.isRequired,\n    customProps: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    labelYes: PropTypes.string,\n    labelNo: PropTypes.string,\n  };\n\n  handleChange = (val) => {\n    this.props.setValue(val);\n  };\n\n  static defaultProps = {\n    labelYes: null, \n    labelNo: null, \n  };\n\n  render() {\n    const {customProps, value,  labelYes, labelNo, readonly} = this.props;\n        \n    return (\n      <Switch\n        checkedChildren={labelYes || null}\n        unCheckedChildren={labelNo || null}\n        checked={value || null}\n        onChange={this.handleChange}\n        disabled={readonly}\n        {...customProps}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Select } from \"antd\";\nimport {calcTextWidth, SELECT_WIDTH_OFFSET_RIGHT} from \"../../utils/domUtils\";\nimport omit from \"lodash/omit\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { useOnPropsChanged } = Utils.ReactUtils;\nconst { mapListValues } = Utils.ListUtils;\nconst Option = Select.Option;\n\nexport default class MultiSelectWidget extends Component {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    config: PropTypes.object.isRequired,\n    value: PropTypes.array,\n    field: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    customProps: PropTypes.object,\n    fieldDefinition: PropTypes.object,\n    readonly: PropTypes.bool,\n    // from fieldSettings:\n    listValues: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    allowCustomValues: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n    useOnPropsChanged(this);\n    this.onPropsChanged(props);\n  }\n\n  onPropsChanged(nextProps) {\n    const {listValues} = nextProps;\n\n    let optionsMaxWidth = 0;\n    mapListValues(listValues, ({title, value}) => {\n      optionsMaxWidth = Math.max(optionsMaxWidth, calcTextWidth(title, null));\n    });\n    if (!isNaN(optionsMaxWidth) && optionsMaxWidth) {\n      this.optionsMaxWidth = optionsMaxWidth;\n    }\n\n    this.options = mapListValues(listValues, ({title, value}) => {\n      return (<Option key={value} value={value}>{title}</Option>);\n    });\n  }\n\n  handleChange = (val) => {\n    if (val && !val.length)\n      val = undefined; //not allow []\n    this.props.setValue(val);\n  };\n\n  filterOption = (input, option) => {\n    const dataForFilter = option.children || option.value;\n    return dataForFilter.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  };\n\n  render() {\n    const {config, placeholder, allowCustomValues, customProps, value, readonly} = this.props;\n    const {renderSize} = config.settings;\n    const placeholderWidth = calcTextWidth(placeholder);\n    const dropdownEmptyWidth = placeholderWidth ? placeholderWidth + SELECT_WIDTH_OFFSET_RIGHT : null;\n    const aValue = value && value.length ? value : undefined;\n    const width = aValue ? null : dropdownEmptyWidth;\n    const dropdownWidth = this.optionsMaxWidth ? this.optionsMaxWidth + SELECT_WIDTH_OFFSET_RIGHT : null;\n    const customSelectProps = omit(customProps, [\"showCheckboxes\"]);\n    \n    return (\n      <Select\n        disabled={readonly}\n        mode={allowCustomValues ? \"tags\" : \"multiple\"}\n        style={{\n          minWidth: width,\n          width: width,\n        }}\n        dropdownStyle={{\n          width: dropdownWidth,\n        }}\n        key={\"widget-multiselect\"}\n        dropdownMatchSelectWidth={false}\n        placeholder={placeholder}\n        size={renderSize}\n        value={aValue}\n        onChange={this.handleChange}\n        filterOption={this.filterOption}\n        {...customSelectProps}\n      >{this.options}\n      </Select>\n    );\n  }\n}\n","import React, { useMemo, useCallback } from \"react\";\nimport { Select, Spin, Divider } from \"antd\";\nimport { calcTextWidth, SELECT_WIDTH_OFFSET_RIGHT } from \"../../utils/domUtils\";\nimport { Hooks } from \"@react-awesome-query-builder/ui\";\nconst { useListValuesAutocomplete } = Hooks;\nconst Option = Select.Option;\n\nexport default (props) => {\n  const { config, placeholder, allowCustomValues, customProps, value, readonly, multiple, useAsyncSearch } = props;\n\n\n  // hook\n  const {\n    open,\n    onDropdownVisibleChange,\n    onChange,\n    isSpecialValue,\n    onSearch,\n    inputValue,\n    options,\n    isInitialLoading,\n    isLoading,\n    aPlaceholder,\n    extendOptions,\n    getOptionDisabled,\n    getOptionIsCustom,\n    getOptionLabel,\n    onInputChange,\n  } = useListValuesAutocomplete(props, {\n    debounceTimeout: 100,\n    multiple,\n    uif: \"antd\"\n  });\n\n  const filteredOptions = extendOptions(options);\n\n  const optionsMaxWidth = useMemo(() => {\n    return filteredOptions.reduce((max, option) => {\n      return Math.max(max, calcTextWidth(option.title, null));\n    }, 0);\n  }, [options]);\n\n  const { defaultSelectWidth, defaultSearchWidth, renderSize } = config.settings;\n  const placeholderWidth = calcTextWidth(placeholder);\n  const isEmptyValue = multiple ? !value?.length : !value;\n  const aValue = !isEmptyValue ? value : (multiple ? [] : undefined);\n  const width = aValue || !placeholderWidth ? null : placeholderWidth + SELECT_WIDTH_OFFSET_RIGHT;\n  const dropdownWidth = optionsMaxWidth && !isNaN(optionsMaxWidth) ? optionsMaxWidth + SELECT_WIDTH_OFFSET_RIGHT : null;\n  const minWidth = width || defaultSelectWidth;\n  const isClearAllClicked = React.useRef(false);\n  \n  const style = {\n    width: (multiple ? undefined : minWidth),\n    minWidth: minWidth\n  };\n  const dropdownStyle = {\n    width: dropdownWidth,\n  };\n\n  const mode = !multiple ? undefined : (allowCustomValues ? \"multiple\" : \"multiple\");\n  const dynamicPlaceholder = !readonly ? aPlaceholder : \"\";\n\n  // rendering special 'Load more' option has side effect: on change rc-select will save its title as internal value in own state\n  const renderedOptions = filteredOptions?.filter(option => !option.specialValue).map((option) => (\n    <Option \n      key={option.value} \n      value={option.value}\n      disabled={getOptionDisabled(option)}\n    >\n      <span className={getOptionIsCustom(option) ? \"customSelectOption\" : undefined}>\n        {getOptionLabel(option)}\n      </span>\n    </Option>\n  ));\n\n  const onSpecialClick = (specialValue) => () => {\n    const option = filteredOptions.find(opt => opt.specialValue == specialValue);\n    onChange(null, specialValue, option);\n  };\n\n  const specialOptions = filteredOptions?.filter(option => !!option.specialValue).map((option) => (\n    <a \n      style={{ padding: \"5px 10px\", display: \"block\", cursor: \"pointer\" }}\n      key={option.specialValue} \n      disabled={getOptionDisabled(option)}\n      onClick={onSpecialClick(option.specialValue)}\n    >\n      {getOptionLabel(option)}\n    </a>\n  ));\n\n  const aOnSelect = async (newValue, option) => {\n    // For both multiple/single `newValue` is string, `option` is {value, children}\n    // ! Custom option is always `{}`\n    if (isSpecialValue(option)) {\n      await onChange(null, newValue, option);\n    } else {\n      if (multiple) {\n        await onChange(null, newValue, option);\n      }\n    }\n  };\n\n  const aOnClear = () => {\n    if (open) {\n      // tip: if closed, search is hidden, so let's clear tags AND search value\n      isClearAllClicked.current = true;\n    }\n  };\n\n\n  const aOnChange = async (newValue, option) => {\n    // For multiple `newValue` is array of strings, `option` is array of {value, children}\n    // For single `newValue` is string/undefined, `option` is {value, children}/undefined\n    // ! Custom option is always `{}`\n    //\n    // For multiple called on:\n    // - click (x) at right (clear all)\n    // - tag removal\n    // - option selection (`aOnSelect` is also called after)\n    // - trying to add new tag from search input (for mode \"tags\" - unwanted!)\n    // \n    // For single called on:\n    // - click (x) at right (clear all)\n    // - option selection (`aOnSelect` is also called after)\n    // ! NOT when trying to add new tag\n\n    const isAddFromSearch \n      = multiple\n      && newValue.length && newValue.length > aValue.length\n      && newValue[newValue.length-1] == inputValue;\n    const shouldIgnore = isSpecialValue(option) // use onSelect instead\n      || mode === \"tags\" && isAddFromSearch // obsolete, we don't use tags mode\n      || isClearAllClicked.current && inputValue // if there are tags AND input, clear input first\n    ;\n    isClearAllClicked.current = false;\n    if (!shouldIgnore) {\n      await onChange(null, newValue, option);\n    }\n  };\n\n  // to keep compatibility with antD\n  const aOnSearch = async (newInputValue) => {\n    if (isClearAllClicked.current) {\n      isClearAllClicked.current = false;\n    }\n    // if (newInputValue === \"\" && !open) {\n    //   return; // ?\n    // }\n\n    await onInputChange(null, newInputValue);\n  };\n\n  const dropdownRender = useCallback((menu) => (\n    <div>\n      {menu}\n      {specialOptions.length > 0\n        && <>\n          <Divider style={{ margin: \"0px\" }}/>\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            {specialOptions}\n          </div>\n        </>\n      }\n    </div>\n  ), [filteredOptions]);\n\n  return (\n    <Select\n      filterOption={useAsyncSearch ? false : true}\n      dropdownRender={dropdownRender}\n      allowClear={true}\n      notFoundContent={isLoading ? \"Loading...\" : \"Not found\"}\n      disabled={readonly}\n      mode={mode}\n      style={customProps?.style || style}\n      dropdownStyle={customProps?.dropdownStyle || dropdownStyle}\n      key={\"widget-autocomplete\"}\n      dropdownMatchSelectWidth={customProps?.dropdownMatchSelectWidth || false}\n      placeholder={customProps?.placeholder || dynamicPlaceholder}\n      onDropdownVisibleChange={onDropdownVisibleChange}\n      onChange={aOnChange}\n      onClear={aOnClear}\n      onSelect={aOnSelect}\n      onSearch={aOnSearch}\n      showArrow\n      showSearch\n      size={renderSize}\n      loading={isLoading}\n      value={aValue}\n      searchValue={inputValue}\n      open={open}\n      {...customProps}\n    >\n      {renderedOptions}\n    </Select>\n  );\n};\n","import { Utils } from \"@react-awesome-query-builder/ui\";\nconst { getItemInListValues, listValuesToArray } = Utils.ListUtils;\n\n\nconst isObject = (v) => (typeof v == \"object\" && v !== null); // object or array\n\nexport const defaultTreeDataMap = {id: \"value\", pId: \"parent\", rootPId: undefined};\n\n// converts from treeData to treeDataSimpleMode format (https://ant.design/components/tree-select/)\n// ! modifies value of `treeData`\nconst flatizeTreeData = (treeData) => {\n  const tdm = defaultTreeDataMap;\n\n  let rind;\n  let len;\n\n  const _flatize = (node, root, lev) => {\n    if (node.children) {\n      if (lev == 1)\n        node[tdm.pId] = tdm.rootPId; //optional?\n      const childrenCount = node.children.length;\n      for (let c of node.children) {\n        c[tdm.pId] = node[tdm.id];\n        rind++;\n        root.splice(rind, 0, c); //instead of just push\n        len++;\n        _flatize(c, root, lev + 1);\n      }\n      delete node.children;\n      if (childrenCount == 0) {\n        root.splice(rind, 1);\n        rind--;\n        len--;\n      }\n    }\n  };\n\n  if (Array.isArray(treeData)) {\n    len = treeData.length;\n    for (rind = 0 ; rind < len ; rind++) {\n      const c = treeData[rind];\n      if (!isObject(c))\n        continue;\n      if (c[tdm.pId] !== undefined && c[tdm.pId] != tdm.rootPId)\n        continue; //not lev 1\n      _flatize(c, treeData, 1);\n    }\n  }\n  \n  return treeData;\n};\n\nconst getPathInListValues = (listValues, value) => {\n  const tdm = defaultTreeDataMap;\n  const it = getItemInListValues(listValues, value);\n  const parentId = it ? it[tdm.pId] : undefined;\n  const parent = parentId ? listValues.find(v => v[tdm.id] === parentId) : undefined;\n  return parent ? [parent.value, ...getPathInListValues(listValues, parent.value)] : [];\n};\n\nconst getChildrenInListValues = (listValues, value) => {\n  const tdm = defaultTreeDataMap;\n  const it = getItemInListValues(listValues, value);\n  return it ? listValues.filter(v => v[tdm.pId] === it[tdm.id]).map(v => v.value) : [];\n};\n\n// ! modifies value of `treeData`\nconst extendTreeData = (treeData, fieldSettings, isMulti) => {\n  for (let node of treeData) {\n    node.path = getPathInListValues(treeData, node.value);\n    if (fieldSettings.treeSelectOnlyLeafs != false) {\n      const childrenValues = getChildrenInListValues(treeData, node.value);\n      if (!isMulti) {\n        node.selectable = (childrenValues.length == 0);\n      }\n    }\n  }\n  return treeData;\n};\n\nexport const normalizeListValues = (listValues, type, fieldSettings) => {\n  const isTree = [\"treeselect\", \"treemultiselect\"].includes(type);\n  const isMulti = [\"multiselect\", \"treemultiselect\"].includes(type);\n  if (isTree) {\n    listValues = listValuesToArray(listValues);\n    listValues = flatizeTreeData(listValues);\n    listValues = extendTreeData(listValues, fieldSettings, isMulti);\n  }\n  return listValues;\n};\n\nexport const removePrefixPath = (selectedPath, parentPath) => {\n  if (!selectedPath)\n    return selectedPath;\n  let isPrefix = true;\n  for (let i = 0 ; i < parentPath.length ; i++) {\n    const part = parentPath[i];\n    if (selectedPath[i] !== undefined && part == selectedPath[i]) {\n      //ok\n    } else {\n      isPrefix = false;\n      break;\n    }\n  }\n  return isPrefix ? selectedPath.slice(parentPath.length) : selectedPath;\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TreeSelect } from \"antd\";\nimport { calcTextWidth, SELECT_WIDTH_OFFSET_RIGHT } from \"../../utils/domUtils\";\nimport { defaultTreeDataMap } from \"../../utils/stuff\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { useOnPropsChanged } = Utils.ReactUtils;\nconst { getTitleInListValues, mapListValues } = Utils.ListUtils;\n\n\nexport default class TreeSelectWidget extends Component {\n  static propTypes = {\n    setValue: PropTypes.func.isRequired,\n    config: PropTypes.object.isRequired,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n    field: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    customProps: PropTypes.object,\n    fieldDefinition: PropTypes.object,\n    readonly: PropTypes.bool,\n    treeMultiple: PropTypes.bool,\n    // from fieldSettings:\n    listValues: PropTypes.oneOfType([PropTypes.object, PropTypes.array]), // obsolete\n    treeValues: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  };\n\n  constructor(props) {\n    super(props);\n    useOnPropsChanged(this);\n    this.onPropsChanged(props);  \n  }\n\n  onPropsChanged(nextProps) {\n    const { listValues, treeValues, treeMultiple } = nextProps;\n    const treeData = treeValues || listValues;\n\n    let optionsMaxWidth = 0;\n    const initialOffset = (treeMultiple ? (24 + 22) : 24); // arrow + checkbox for leftmost item\n    const offset = 20;\n    const padding = 5 * 2;\n    mapListValues(treeData, ({title, value, path}) => {\n      optionsMaxWidth = Math.max(optionsMaxWidth, \n        calcTextWidth(title, null) + padding + (path ? path.length : 0) * offset + initialOffset\n      );\n    });\n    if (!isNaN(optionsMaxWidth) && optionsMaxWidth) {\n      this.optionsMaxWidth = optionsMaxWidth;\n    }\n  }\n\n  handleChange = (val) => {\n    if (!this.props.treeMultiple) {\n      this.props.setValue(val);\n      return;\n    }\n    if (val && !val.length) {\n      this.props.setValue(undefined); //not allow []\n      return;\n    }\n    if (typeof val[0] == \"object\" && val[0].value !== undefined) {\n      //`treeCheckStrictly` is on\n      val = val.map(v => v.value);\n    }\n    this.props.setValue(val);\n  };\n\n  filterTreeNode = (input, option) => {\n    const dataForFilter = option.title;\n    return dataForFilter.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  };\n\n\n  render() {\n    const {\n      config,\n      placeholder,\n      customProps = {},\n      value,\n      treeMultiple,\n      listValues,\n      treeValues,\n      treeExpandAll,\n      readonly\n    } = this.props;\n    const treeData = treeValues || listValues;\n    const treeCheckStrictly = customProps.treeCheckStrictly || false;\n    const { renderSize } = config.settings;\n    const placeholderWidth = calcTextWidth(placeholder);\n    let aValue = value != undefined ? value : undefined;\n    if (treeCheckStrictly && aValue !== undefined) {\n      if (treeMultiple) {\n        aValue = aValue.map(v => ({value: v, label: getTitleInListValues(treeData, v)}));\n      }\n    }\n    const width = aValue || !placeholderWidth ? null : placeholderWidth + SELECT_WIDTH_OFFSET_RIGHT + 6;\n    const dropdownMinWidth = 100;\n    const dropdownMaxWidth = 800;\n    const useAutoWidth = true || !this.optionsMaxWidth; //tip: \"auto\" is good, but width will jump on expand/collapse\n    const dropdownWidth = Math.max(dropdownMinWidth, Math.min(dropdownMaxWidth, this.optionsMaxWidth));\n\n    return (      \n      <TreeSelect\n        disabled={readonly}\n        style={{\n          minWidth: width,\n          width: width,\n        }}\n        dropdownStyle={{\n          width: useAutoWidth ? \"auto\" : dropdownWidth + 10,\n          paddingRight: \"10px\"\n        }}\n        multiple={treeMultiple}\n        treeCheckable={treeMultiple}\n        key={\"widget-treeselect\"}\n        dropdownMatchSelectWidth={false}\n        placeholder={placeholder}\n        size={renderSize}\n        treeData={treeData}\n        treeDataSimpleMode={defaultTreeDataMap}\n        filterTreeNode={this.filterTreeNode}\n        value={aValue}\n        onChange={this.handleChange}\n        treeDefaultExpandAll={treeExpandAll}\n        {...customProps}\n      />\n    );\n  }\n}\n","import React, { PureComponent } from \"react\";\nimport { Tooltip, Select } from \"antd\";\nimport {BUILT_IN_PLACEMENTS, SELECT_WIDTH_OFFSET_RIGHT, calcTextWidth} from \"../../utils/domUtils\";\nimport PropTypes from \"prop-types\";\nconst { Option, OptGroup } = Select;\n\n\nexport default class FieldSelect extends PureComponent {\n  static propTypes = {\n    config: PropTypes.object.isRequired,\n    customProps: PropTypes.object,\n    items: PropTypes.array.isRequired,\n    placeholder: PropTypes.string,\n    selectedKey: PropTypes.string,\n    selectedKeys: PropTypes.array,\n    selectedPath: PropTypes.array,\n    selectedLabel: PropTypes.string,\n    selectedAltLabel: PropTypes.string,\n    selectedFullLabel: PropTypes.string,\n    selectedOpts: PropTypes.object,\n    readonly: PropTypes.bool,\n    //actions\n    setField: PropTypes.func.isRequired,\n  };\n\n  onChange = (key) => {\n    this.props.setField(key);\n  };\n\n  filterOption = (input, option) => {\n    const dataForFilter = option;\n    const keysForFilter = [\"title\", \"value\", \"grouplabel\", \"label\"];\n    const valueForFilter = keysForFilter\n      .map(k => (typeof dataForFilter[k] == \"string\" ? dataForFilter[k] : \"\"))\n      .join(\"\\0\");\n    return valueForFilter.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  };\n\n  render() {\n    const {\n      config, customProps, items, placeholder,\n      selectedKey, selectedLabel, selectedOpts, selectedAltLabel, selectedFullLabel, readonly,\n    } = this.props;\n    const {showSearch} = customProps || {};\n\n    const selectText = selectedLabel || placeholder;\n    const selectWidth = calcTextWidth(selectText);\n    const isFieldSelected = !!selectedKey;\n    const dropdownPlacement = config.settings.dropdownPlacement;\n    const dropdownAlign = dropdownPlacement ? BUILT_IN_PLACEMENTS[dropdownPlacement] : undefined;\n    const width = isFieldSelected && !showSearch || !selectWidth ? null : selectWidth + SELECT_WIDTH_OFFSET_RIGHT;\n    let tooltipText = selectedAltLabel || selectedFullLabel;\n    if (tooltipText == selectedLabel)\n      tooltipText = null;\n\n    const fieldSelectItems = this.renderSelectItems(items);\n\n    let res = (\n      <Select\n        dropdownAlign={dropdownAlign}\n        dropdownMatchSelectWidth={false}\n        style={{ width }}\n        placeholder={placeholder}\n        size={config.settings.renderSize}\n        onChange={this.onChange}\n        value={selectedKey || undefined}\n        optionLabelProp={\"label\"}\n        filterOption={this.filterOption}\n        disabled={readonly}\n        {...customProps}\n      >{fieldSelectItems}</Select>\n    );\n\n    if (tooltipText && !selectedOpts.tooltip) {\n      res = <Tooltip title={tooltipText}>{res}</Tooltip>;\n    }\n\n    return res;\n  }\n\n  renderSelectItems(fields, level = 0) {\n    return fields.map(field => {\n      const {items, key, path, label, fullLabel, altLabel, tooltip, grouplabel, disabled} = field;\n      const groupPrefix = level > 0 ? \"\\u00A0\\u00A0\".repeat(level) : \"\";\n      const prefix = level > 1 ? \"\\u00A0\\u00A0\".repeat(level-1) : \"\";\n      const pathKey = path || key;\n      if (items) {\n        const simpleItems = items.filter(it => !it.items);\n        const complexItems = items.filter(it => !!it.items);\n        const gr = simpleItems.length\n          ? [<OptGroup\n            key={pathKey}\n            label={groupPrefix+label}\n          >{this.renderSelectItems(simpleItems, level+1)}</OptGroup>]\n          : [];\n        const list = complexItems.length ? this.renderSelectItems(complexItems, level+1) : [];\n        return [...gr, ...list];\n      } else {\n        const option = tooltip ? <Tooltip title={tooltip}>{prefix+label}</Tooltip> : prefix+label;\n        return <Option\n          key={pathKey}\n          value={pathKey}\n          title={altLabel}\n          grouplabel={grouplabel}\n          label={label}\n          disabled={disabled}\n        >\n          {option}\n        </Option>;\n      }\n    }).flat(Infinity);\n  }\n\n}\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Menu, Dropdown, Tooltip, Button } from \"antd\";\nconst SubMenu = Menu.SubMenu;\nconst MenuItem = Menu.Item;\nimport { DownOutlined } from \"@ant-design/icons\";\n\n\nexport default class FieldDropdown extends PureComponent {\n  static propTypes = {\n    config: PropTypes.object.isRequired,\n    customProps: PropTypes.object,\n    items: PropTypes.array.isRequired,\n    placeholder: PropTypes.string,\n    selectedKey: PropTypes.string,\n    selectedKeys: PropTypes.array,\n    selectedPath: PropTypes.array,\n    selectedLabel: PropTypes.string,\n    selectedAltLabel: PropTypes.string,\n    selectedFullLabel: PropTypes.string,\n    selectedOpts: PropTypes.object,\n    readonly: PropTypes.bool,\n    //actions\n    setField: PropTypes.func.isRequired,\n  };\n\n  onChange = ({key, keyPath}) => {\n    this.props.setField(key);\n  };\n\n  renderMenuItems(fields) {\n    return fields.map(field => {\n      const {items, key, path, label, fullLabel, altLabel, tooltip, disabled} = field;\n      const pathKey = path || key;\n      const option = tooltip ? <Tooltip title={tooltip}>{label}</Tooltip> : label;\n\n      if (items) {\n        return <SubMenu\n          key={pathKey}\n          title={<span>{option} &nbsp;&nbsp;&nbsp;&nbsp;</span>}\n        >\n          {this.renderMenuItems(items)}\n        </SubMenu>;\n      } else {\n        return <MenuItem\n          key={pathKey}\n          disabled={disabled}\n        >\n          {option}\n        </MenuItem>;\n      }\n    });\n  }\n\n  renderMenuToggler(togglerLabel, tooltipText, config, readonly) {\n    let toggler\n          = <Button\n            size={config.settings.renderSize}\n            disabled={readonly}\n          >\n            {togglerLabel} <DownOutlined />\n          </Button>;\n\n    if (tooltipText) {\n      toggler \n              = <Tooltip\n          placement=\"top\"\n          title={tooltipText}\n        >\n          {toggler}\n        </Tooltip>;\n    }\n\n    return toggler;\n  }\n\n  render() {\n    const {\n      config, customProps, items, placeholder,\n      selectedKeys, selectedLabel, selectedOpts, readonly, selectedAltLabel, selectedFullLabel,\n    } = this.props;\n\n    const fieldMenuItems = this.renderMenuItems(items);\n\n    const fieldMenu = (\n      <Menu\n        //size={config.settings.renderSize}\n        selectedKeys={selectedKeys}\n        onClick={this.onChange}\n        {...customProps}\n      >{fieldMenuItems}</Menu>\n    );\n    const togglerLabel = selectedAltLabel || selectedLabel || placeholder;\n    let tooltipText = selectedFullLabel;\n    if (tooltipText == selectedLabel)\n      tooltipText = null;\n    const fieldToggler = this.renderMenuToggler(togglerLabel, tooltipText, config, readonly);\n\n    return readonly ? fieldToggler : (\n      <Dropdown\n        overlay={fieldMenu}\n        trigger={[\"click\"]}\n        placement={config.settings.dropdownPlacement}\n      >\n        {fieldToggler}\n      </Dropdown>\n    );\n  }\n}","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Cascader, Tooltip } from \"antd\";\nimport {removePrefixPath} from \"../../utils/stuff\";\n\n\nexport default class FieldCascader extends PureComponent {\n  static propTypes = {\n    config: PropTypes.object.isRequired,\n    customProps: PropTypes.object,\n    items: PropTypes.array.isRequired,\n    placeholder: PropTypes.string,\n    selectedKey: PropTypes.string,\n    selectedKeys: PropTypes.array,\n    selectedPath: PropTypes.array,\n    selectedLabel: PropTypes.string,\n    selectedAltLabel: PropTypes.string,\n    selectedFullLabel: PropTypes.string,\n    selectedOpts: PropTypes.object,\n    readonly: PropTypes.bool,\n    //actions\n    setField: PropTypes.func.isRequired,\n  };\n\n  onChange = (keys) => {\n    const { parentField } = this.props;\n    const dotNotationToPath = str => str.split(\".\");\n    const parentPath = parentField ? dotNotationToPath(parentField) : [];\n    this.props.setField([...parentPath, ...keys]);\n  };\n\n  filterOption = (inputValue, path) => {\n    const keysForFilter = [\"label\", \"key\", \"altLabel\"];\n    return path.some(option => (\n      keysForFilter.map(k => option[k]).join(\"\\0\").toLowerCase().indexOf(inputValue.toLowerCase()) > -1\n    ));\n  };\n\n  render() {\n    const {\n      config, customProps, items, placeholder,\n      selectedPath, selectedLabel, selectedOpts, selectedAltLabel, selectedFullLabel, readonly, selectedField, parentField, \n    } = this.props;\n    let customProps2 = {...customProps};\n    if (customProps2.showSearch) {\n      customProps2.showSearch = {\n        filter: this.filterOption\n      };\n    }\n\n    const {fieldSeparator} = config.settings;\n    const parentFieldPath = parentField ? parentField.split(fieldSeparator) : [];\n    const value = removePrefixPath(selectedPath, parentFieldPath);\n    let res = (\n      <Cascader\n        fieldNames={{ label: \"label\", value: \"key\", children: \"items\" }}\n        options={items}\n        value={value}\n        onChange={this.onChange}\n        allowClear={false}\n        placeholder={placeholder}\n        size={config.settings.renderSize}\n        disabled={readonly}\n        {...customProps2}\n      />\n    );\n\n    let tooltipText = selectedOpts.tooltip || selectedAltLabel;\n    if (tooltipText == selectedLabel)\n      tooltipText = null;\n    if (tooltipText) {\n      res = <Tooltip title={tooltipText}>{res}</Tooltip>;\n    }\n    \n    return res;\n  }\n}","import React, { Component } from \"react\";\nimport { Tooltip, TreeSelect } from \"antd\";\nimport {BUILT_IN_PLACEMENTS, SELECT_WIDTH_OFFSET_RIGHT, calcTextWidth} from \"../../utils/domUtils\";\nimport PropTypes from \"prop-types\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { useOnPropsChanged } = Utils.ReactUtils;\n\nexport default class FieldTreeSelect extends Component {\n  static propTypes = {\n    config: PropTypes.object.isRequired,\n    customProps: PropTypes.object,\n    items: PropTypes.array.isRequired,\n    placeholder: PropTypes.string,\n    selectedKey: PropTypes.string,\n    selectedKeys: PropTypes.array,\n    selectedPath: PropTypes.array,\n    selectedLabel: PropTypes.string,\n    selectedAltLabel: PropTypes.string,\n    selectedFullLabel: PropTypes.string,\n    selectedOpts: PropTypes.object,\n    readonly: PropTypes.bool,\n    //actions\n    setField: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    useOnPropsChanged(this);\n    this.onPropsChanged(props);  \n  }\n\n  onPropsChanged(nextProps) {\n    const { items, config: {settings: {fieldSeparator}}} = nextProps;\n\n    let optionsMaxWidth = 0;\n    const initialOffset = 24; // arrow + checkbox for leftmost item\n    const offset = 20;\n    const padding = 5 * 2;\n    this.treeData = this.getTreeData(items, ({label, path}) => {\n      optionsMaxWidth = Math.max(optionsMaxWidth, \n        calcTextWidth(label, null) + padding + (path.split(fieldSeparator).length - 1) * offset + initialOffset\n      );\n    });\n    if (!isNaN(optionsMaxWidth) && optionsMaxWidth) {\n      this.optionsMaxWidth = optionsMaxWidth;\n    }\n  }\n\n  getTreeData(fields, fn = null) {\n    return fields.map(field => {\n      const {items, key, path, label, fullLabel, altLabel, tooltip, disabled} = field;\n      if (fn)\n        fn(field);\n      const pathKey = path || key;\n      const option = tooltip ? <Tooltip title={tooltip}>{label}</Tooltip> : label;\n\n      if (items) {\n        return {\n          value: pathKey,\n          title: option,\n          children: this.getTreeData(items, fn),\n          selectable: false,\n          altLabel: altLabel,\n          fullLabel: fullLabel,\n          label: label,\n          disabled: disabled,\n        };\n      } else {\n        return {\n          value: pathKey,\n          title: option,\n          altLabel: altLabel,\n          fullLabel: fullLabel,\n          label: label,\n          disabled: disabled,\n        };\n      }\n    });\n  }\n\n  onChange = (key) => {\n    this.props.setField(key);\n  };\n\n  filterTreeNode = (input, option) => {\n    const dataForFilter = option;\n    const keysForFilter = [\"title\", \"value\", \"label\", \"altLabel\", \"fullLabel\"];\n    const valueForFilter \n      = keysForFilter\n        .map(k => (typeof dataForFilter[k] == \"string\" ? dataForFilter[k] : \"\"))\n        .join(\"\\0\");\n    return valueForFilter.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  };\n\n  render() {\n    const {\n      config, customProps = {}, placeholder,\n      selectedKey, selectedLabel, selectedOpts, selectedAltLabel, selectedFullLabel, readonly,\n    } = this.props;\n    const { renderSize, fieldSeparator } = config.settings;\n      \n    let tooltipText = selectedAltLabel || selectedFullLabel;\n    if (tooltipText == selectedLabel)\n      tooltipText = null;\n    const selectedPath = selectedKey ? selectedKey.split(fieldSeparator) : null;\n    const treeDefaultExpandedKeys = selectedPath && selectedPath.length > 1 \n      ? selectedPath.slice(0, -1).map((_key, i) => (selectedPath.slice(0, i+1).join(fieldSeparator))) \n      : null;\n      \n    const placeholderWidth = calcTextWidth(placeholder);\n    const isFieldSelected = !!selectedKey;\n\n    const minWidth = placeholderWidth ? placeholderWidth + SELECT_WIDTH_OFFSET_RIGHT + 6 : null;\n    const dropdownMinWidth = 100;\n    const dropdownMaxWidth = 800;\n    const useAutoWidth = true || !this.optionsMaxWidth; //tip: \"auto\" is good, but width will jump on expand/collapse\n    const dropdownWidth = Math.max(dropdownMinWidth, Math.min(dropdownMaxWidth, this.optionsMaxWidth));\n\n    let res = (\n      <TreeSelect\n        onChange={this.onChange}\n        value={selectedKey || undefined}\n        style={{\n          minWidth: minWidth,\n          width: isFieldSelected ? null : minWidth,\n        }}\n        dropdownStyle={{\n          width: useAutoWidth ? \"auto\" : dropdownWidth + 20,\n          paddingRight: \"10px\"\n        }}\n        multiple={false}\n        treeCheckable={false}\n        treeDataSimpleMode={false}\n        treeData={this.treeData}\n        size={renderSize}\n        placeholder={placeholder}\n        filterTreeNode={this.filterTreeNode}\n        treeDefaultExpandedKeys={treeDefaultExpandedKeys}\n        dropdownMatchSelectWidth={false}\n        disabled={readonly}\n        {...customProps}\n      />\n    );\n\n    if (tooltipText && !selectedOpts.tooltip) {\n      res = <Tooltip title={tooltipText}>{res}</Tooltip>;\n    }\n\n    return res;\n  }\n\n}\n","import React from \"react\";\nimport { Button } from \"antd\";\nconst ButtonGroup = Button.Group;\n\nexport default ({children, config: {settings}}) => {\n  const {renderSize} = settings;\n  return <ButtonGroup\n    size={renderSize}\n  >{children}</ButtonGroup>;\n};\n","import React, { PureComponent } from \"react\";\nimport map from \"lodash/map\";\nimport { Button, Radio } from \"antd\";\nconst ButtonGroup = Button.Group;\n\n\nclass ConjsButton extends PureComponent {\n  onClick = (_e) => {\n    const {setConjunction, item} = this.props;\n    const conj = item.key;\n    setConjunction(conj);\n  };\n\n  render() {\n    const {disabled, item} = this.props;\n    return (\n      <Button\n        disabled={disabled}\n        type={item.checked ? \"primary\" : null}\n        onClick={this.onClick}\n      >{item.label}</Button>\n    );\n  }\n}\n\n\nexport default class ConjsButtons extends PureComponent {\n  setNot = (e) => {\n    const {setNot, not} = this.props;\n    if (setNot)\n      setNot(!not);\n  };\n\n  render() {\n    const {readonly, disabled, not, conjunctionOptions, config, setConjunction, notLabel, showNot} = this.props;\n    const conjsCount = Object.keys(conjunctionOptions).length;\n    const lessThenTwo = disabled;\n    const {forceShowConj, renderSize} = config.settings;\n    const showConj = forceShowConj || conjsCount > 1 && !lessThenTwo;\n\n    return (\n      <ButtonGroup\n        key=\"group-conjs-buttons\"\n        size={renderSize}\n        disabled={disabled || readonly}\n      >\n        {showNot && (readonly ? not : true)\n          && <Button\n            key={\"group-not\"}\n            onClick={this.setNot}\n            type={not ? \"primary\" : null}\n            disabled={readonly}\n          >{notLabel}</Button>\n        }\n        {showConj && map(conjunctionOptions, (item, _index) => (readonly || disabled) && !item.checked ? null : (\n          <ConjsButton\n            key={item.id}\n            item={item}\n            disabled={disabled || readonly}\n            setConjunction={setConjunction}\n          />\n        ))}\n      </ButtonGroup>\n    );\n  }\n}\n\n// obsolete\n/*\nconst RadioButton = Radio.Button;\nconst RadioGroup = Radio.Group;\nclass ConjsRadios extends PureComponent {\n  setConjunction = (e) => {\n    const {setConjunction} = this.props;\n    const conj = e.target.value;\n    setConjunction(conj);\n  }\n\n  render() {\n    const {readonly, disabled, selectedConjunction, conjunctionOptions, config} = this.props;\n    return (\n      <RadioGroup\n        key=\"group-conjs-radios\"\n        disabled={disabled}\n        value={selectedConjunction}\n        size={config.settings.renderSize}\n        onChange={this.setConjunction}\n      >\n        {map(conjunctionOptions, (item, _index) => readonly && !item.checked ? null : (\n          <RadioButton\n            key={item.id}\n            value={item.key}\n            //checked={item.checked}\n          >{item.label}</RadioButton>\n        ))}\n      </RadioGroup>\n    );\n  }\n}\n*/\n","import React, { PureComponent } from \"react\";\nimport { Popover, Radio } from \"antd\";\nconst RadioButton = Radio.Button;\nconst RadioGroup = Radio.Group;\nimport { EllipsisOutlined } from \"@ant-design/icons\";\n\nexport default class ValueSources extends PureComponent {\n  onChange = (e) => {\n    const {setValueSrc} = this.props;\n    setValueSrc(e.target.value);\n  };\n\n  render() {\n    const {config, valueSources, valueSrc, readonly, title} = this.props;\n\n    let content = (\n      <RadioGroup\n        value={valueSrc || \"value\"}\n        size={config.settings.renderSize}\n        onChange={this.onChange}\n        disabled={readonly}\n      >\n        {valueSources.map(([srcKey, info]) => (\n          <RadioButton\n            key={srcKey}\n            value={srcKey}\n          >{info.label}</RadioButton>\n        ))}\n      </RadioGroup>\n    );\n\n    return (\n      <span>\n        <Popover content={content} title={title}>\n          <EllipsisOutlined />\n        </Popover>\n      </span>\n    );\n  }\n}\n","import { Modal } from \"antd\";\nconst { confirm } = Modal;\n\nexport default (options) => {\n  confirm(options);\n};\n","import React from \"react\";\n\n// value widgets\nimport DateWidget from \"./value/Date\";\nimport DateTimeWidget from \"./value/DateTime\";\nimport TimeWidget from \"./value/Time\";\nimport SelectWidget from \"./value/Select\";\nimport TextWidget from \"./value/Text\";\nimport TextAreaWidget from \"./value/TextArea\";\nimport NumberWidget from \"./value/Number\";\nimport SliderWidget from \"./value/Slider\";\nimport RangeWidget from \"./value/Range\";\nimport BooleanWidget from \"./value/Boolean\";\nimport MultiSelectWidget from \"./value/MultiSelect\";\nimport AutocompleteWidget from \"./value/Autocomplete\";\nimport TreeSelectWidget from \"./value/TreeSelect\";\n\n// field select widgets\nimport FieldSelect from \"./core/FieldSelect\";\nimport FieldDropdown from \"./core/FieldDropdown\";\nimport FieldCascader from \"./core/FieldCascader\";\nimport FieldTreeSelect from \"./core/FieldTreeSelect\";\n\n// core components\nimport Button from \"./core/Button\";\nimport ButtonGroup from \"./core/ButtonGroup\";\nimport Conjs from \"./core/Conjs\";\nimport Switch from \"./core/Switch\";\nimport ValueSources from \"./core/ValueSources\";\nimport confirm from \"./core/confirm\";\n\nimport { ConfigProvider } from \"antd\";\nconst Provider = ({ config, children }) => <ConfigProvider locale={config.settings.locale.antd}>{children}</ConfigProvider>;\n\nexport default {\n  DateWidget,\n  DateTimeWidget,\n  TimeWidget,\n  SelectWidget,\n  TextWidget,\n  TextAreaWidget,\n  NumberWidget,\n  SliderWidget,\n  RangeWidget,\n  BooleanWidget,\n  MultiSelectWidget,\n  AutocompleteWidget,\n  TreeSelectWidget,\n\n  FieldSelect,\n  FieldDropdown,\n  FieldCascader,\n  FieldTreeSelect,\n\n  Button,\n  ButtonGroup,\n  Conjs,\n  Switch,\n  ValueSources,\n  confirm,\n\n  Provider,\n};","import React from \"react\";\nimport { Button } from \"antd\";\nimport { PlusOutlined, PlusCircleOutlined, DeleteFilled } from \"@ant-design/icons\";\n\nexport default ({type, onClick, label, readonly, config: {settings}}) => {\n  const hideLabelsFor = {\n    \"addRuleGroup\": true\n  };\n  const btnLabel = hideLabelsFor[type] ? \"\" : label;\n  const hasLabel = !!btnLabel;\n\n  const typeToIcon = {\n    \"addRule\": <PlusOutlined />,\n    \"addGroup\": <PlusCircleOutlined />,\n    \"delRule\": <DeleteFilled />, //?\n    \"delGroup\": <DeleteFilled />,\n    \"delRuleGroup\": <DeleteFilled />,\n    \"addRuleGroup\": <PlusOutlined />,\n  };\n\n  const typeToClass = {\n    \"addRule\": \"action action--ADD-RULE\",\n    \"addGroup\": \"action action--ADD-GROUP\",\n    \"delRule\": \"action action--DELETE\", //?\n    \"delGroup\": \"action action--DELETE\",\n    \"delRuleGroup\": \"action action--DELETE\",\n    \"addRuleGroup\": <PlusOutlined />,\n  };\n\n  const typeToType = {\n    \"delRule\": \"text\",\n    // \"delGroup\": \"default\",\n    // \"delRuleGroup\": \"default\",\n  };\n\n  const dangerFor = {\n    \"delRule\": true,\n    \"delGroup\": true,\n    \"delRuleGroup\": true,\n  };\n\n  const {renderSize} = settings;\n\n\n  return (\n    <Button\n      danger={dangerFor[type] === true}\n      key={type}\n      type={typeToType[type] || \"default\"}\n      icon={typeToIcon[type]}\n      className={typeToClass[type]}\n      onClick={onClick}\n      size={renderSize}\n      disabled={readonly}\n    >{btnLabel}</Button>\n  );\n};\n","import React from \"react\";\nimport { Switch , Button } from \"antd\";\nimport { LockFilled, UnlockOutlined } from \"@ant-design/icons\";\n\nexport default ({value, setValue, label, checkedLabel, hideLabel, id, config, type}) => {\n  const {renderSize} = config.settings;\n  const onSwitch = switchValue => setValue(switchValue);\n  const onClick = () => setValue(!value);\n  const postfix = type;\n  const showLabel = hideLabel ? null : (value ? (checkedLabel || label) : label);\n\n  if (type == \"lock\") {\n    return <Button\n      key={id+postfix}\n      type={value ? \"danger\" : undefined}\n      icon={value ? <LockFilled /> : <UnlockOutlined />}\n      onClick={onClick}\n      checked={!!value}\n      size={renderSize}\n    >{showLabel}</Button>;\n  }\n\n  return <Switch\n    key={id+postfix}\n    checkedChildren={checkedLabel || label}\n    unCheckedChildren={value ? (checkedLabel || label) : label}\n    onChange={onSwitch}\n    checked={!!value}\n    size={renderSize}\n  ></Switch>;\n};\n","import React from \"react\";\nimport en_US from \"antd/es/locale/en_US\";\nimport AntdWidgets from \"../widgets\";\nimport { normalizeListValues } from \"../utils/stuff\";\nimport { BasicConfig, Utils } from \"@react-awesome-query-builder/ui\";\n\n\n\nconst settings = {\n  ...BasicConfig.settings,\n\n  renderField: (props, {RCE, W: {FieldSelect}}) => RCE(FieldSelect, props),\n  // renderField: (props, {RCE, W: {FieldDropdown}}) => RCE(FieldSelect, props),\n  // renderField: (props, {RCE, W: {FieldCascader}}) => RCE(FieldSelect, props),\n  // renderField: (props, {RCE, W: {FieldTreeSelect}}) => RCE(FieldSelect, props),\n\n  renderOperator: (props, {RCE, W: {FieldSelect}}) => RCE(FieldSelect, props),\n  // renderOperator: (props, {RCE, W: {FieldDropdown}}) => RCE(FieldDropdown, props),\n\n  renderFunc: (props, {RCE, W: {FieldSelect}}) => RCE(FieldSelect, props),\n  renderConjs: (props, {RCE, W: {Conjs}}) => RCE(Conjs, props),\n  renderSwitch: (props, {RCE, W: {Switch}}) => RCE(Switch, props),\n  renderButton: (props, {RCE, W: {Button}}) => RCE(Button, props),\n  renderButtonGroup: (props, {RCE, W: {ButtonGroup}}) => RCE(ButtonGroup, props),\n  renderValueSources: (props, {RCE, W: {ValueSources}}) => RCE(ValueSources, props),\n  renderProvider: (props, {RCE, W: {Provider}}) => RCE(Provider, props),\n  renderConfirm: (props, {W: {confirm}}) => confirm(props),\n\n  // localization\n  locale: {\n    ...BasicConfig.settings.locale,\n    // antd: en_US,\n  },\n\n  removeInvalidMultiSelectValuesOnLoad: false, // can be removed manually in UI\n  normalizeListValues: function(...args) { return this.utils.normalizeListValues.call(null, ...args); },\n};\n\n\nconst widgets = {\n  ...BasicConfig.widgets,\n  text: {\n    ...BasicConfig.widgets.text,\n    factory: (props, {RCE, W: {TextWidget}}) => RCE(TextWidget, props),\n  },\n  textarea: {\n    ...BasicConfig.widgets.textarea,\n    factory: (props, {RCE, W: {TextAreaWidget}}) => RCE(TextAreaWidget, props),\n  },\n  number: {\n    ...BasicConfig.widgets.number,\n    factory: (props, {RCE, W: {NumberWidget}}) => RCE(NumberWidget, props),\n  },\n  multiselect: {\n    ...BasicConfig.widgets.multiselect,\n    factory: (props, {RCE, W: {AutocompleteWidget, MultiSelectWidget}}) => {\n      return (props.asyncFetch || props.showSearch) \n        ? RCE(AutocompleteWidget, {...props, multiple: true}) \n        : RCE(MultiSelectWidget, props);\n    },\n  },\n  select: {\n    ...BasicConfig.widgets.select,\n    factory: (props, {RCE, W: {AutocompleteWidget, SelectWidget}}) => {\n      return (props.asyncFetch || props.showSearch) \n        ? RCE(AutocompleteWidget, props) \n        : RCE(SelectWidget, props);\n    },\n  },\n  slider: {\n    ...BasicConfig.widgets.slider,\n    factory: (props, {RCE, W: {SliderWidget}}) => RCE(SliderWidget, props),\n  },\n  boolean: {\n    ...BasicConfig.widgets.boolean,\n    factory: (props, {RCE, W: {BooleanWidget}}) => RCE(BooleanWidget, props),\n  },\n  date: {\n    ...BasicConfig.widgets.date,\n    factory: (props, {RCE, W: {DateWidget}}) => RCE(DateWidget, props),\n  },\n  time: {\n    ...BasicConfig.widgets.time,\n    factory: (props, {RCE, W: {TimeWidget}}) => RCE(TimeWidget, props),\n  },\n  datetime: {\n    ...BasicConfig.widgets.datetime,\n    factory: (props, {RCE, W: {DateTimeWidget}}) => RCE(DateTimeWidget, props),\n  },\n\n  rangeslider: {\n    ...BasicConfig.widgets.rangeslider,\n    factory: (props, {RCE, W: {RangeWidget}}) => RCE(RangeWidget, props),\n  },\n  treeselect: {\n    ...BasicConfig.widgets.treeselect,\n    factory: (props, {RCE, W: {TreeSelectWidget}}) => RCE(TreeSelectWidget, props),\n  },\n  treemultiselect: {\n    ...BasicConfig.widgets.treemultiselect,\n    factory: (props, {RCE, W: {TreeSelectWidget}}) => RCE(TreeSelectWidget, {...props, treeMultiple: true}),\n  },\n};\n\n\nconst types = {\n  ...BasicConfig.types,\n};\n\nconst ctx = {\n  ...BasicConfig.ctx,\n  utils: {\n    ...BasicConfig.ctx.utils,\n    normalizeListValues,\n  },\n  W: {\n    ...BasicConfig.ctx.W,\n    ...AntdWidgets,\n  },\n};\n\nlet config = {\n  ...BasicConfig,\n  ctx,\n  types,\n  widgets,\n  settings,\n};\nconfig = Utils.ConfigMixins.addMixins(config, [\n  \"rangeslider\",\n  \"treeselect\",\n  \"treemultiselect\",\n  \"rangeable__date\",\n]);\n\nexport default config;\n","import React from \"react\";\nimport FormControl from \"@mui/material/FormControl\";\nimport TextField from \"@mui/material/TextField\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nimport { TimePicker } from \"@mui/x-date-pickers/TimePicker\";\nconst { moment } = Utils;\n\nexport default (props) => {\n  const {value, setValue, use12Hours, readonly, placeholder, timeFormat, valueFormat, customProps} = props;\n\n  const formatSingleValue = (value) => {\n    return value && value.isValid() ? value.format(valueFormat) : undefined;\n  };\n\n  const handleChange = (value) => {\n    setValue(formatSingleValue(value));\n  };\n\n  const hasSeconds = timeFormat.indexOf(\":ss\") != -1;\n  const timeValue = value ? moment(value, timeFormat) : null;\n\n  const renderInput = (params) => \n    <TextField \n      size=\"small\" \n      variant=\"standard\"\n      {...params}\n    />;\n\n  const desktopModeMediaQuery = \"@media (pointer: fine), (pointer: none)\";\n\n  return (\n    <FormControl>\n      <TimePicker\n        desktopModeMediaQuery={desktopModeMediaQuery}\n        readOnly={readonly}\n        disabled={readonly}\n        ampm={!!use12Hours}\n        toolbarPlaceholder={!readonly ? placeholder : \"\"}\n        inputFormat={timeFormat}\n        value={timeValue || null}\n        onChange={handleChange}\n        views={hasSeconds ? [\"hours\", \"minutes\", \"seconds\"] : [\"hours\", \"minutes\"]}\n        renderInput={renderInput}\n        {...customProps}\n      />\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport omit from \"lodash/omit\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { mapListValues } = Utils.ListUtils;\n\nexport default ({listValues, value, setValue, allowCustomValues, readonly, placeholder, customProps}) => {\n  const renderOptions = () =>\n    mapListValues(listValues, ({title, value}) => {\n      return <MenuItem key={value} value={value}>{title}</MenuItem>;\n    });\n\n  const onChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setValue(e.target.value);\n  };\n\n  const renderValue = (selectedValue) => {\n    if (!readonly && selectedValue == null)\n      return placeholder;\n    return getListValueTitle(selectedValue);\n  };\n\n  const getListValueTitle = (selectedValue) => \n    mapListValues(listValues, ({title, value}) => \n      (value === selectedValue ? title : null)\n    )\n      .filter(v => v !== null)\n      .shift();\n  \n  const hasValue = value != null;\n\n  return (\n    <FormControl>\n      <Select\n        variant=\"standard\"\n        autoWidth\n        displayEmpty\n        placeholder={!readonly ? placeholder : \"\"}\n        onChange={onChange}\n        value={hasValue ? value : \"\"}\n        disabled={readonly}\n        readOnly={readonly}\n        renderValue={renderValue}\n        size=\"small\"\n        {...omit(customProps, [\"showSearch\", \"input\"])}\n      >\n        {renderOptions()}\n      </Select>\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select from \"@mui/material/Select\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport omit from \"lodash/omit\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { mapListValues } = Utils.ListUtils;\n\nexport default ({listValues, value, setValue, allowCustomValues, readonly, placeholder, customProps}) => {\n  const renderOptions = (selectedValues) => \n    mapListValues(listValues, ({title, value}) => {\n      return (\n        <MenuItem key={value} value={value}>\n          <Checkbox checked={selectedValues.indexOf(value) > -1} />\n          <ListItemText primary={title} />\n        </MenuItem>\n      );\n    });\n\n  const renderValue = (selectedValues) => {\n    if (!readonly && !selectedValues.length)\n      return placeholder;\n    const selectedTitles = mapListValues(listValues, ({title, value}) => (\n      selectedValues.indexOf(value) > -1 ? title : null\n    )).filter(v => v !== null);\n    return selectedTitles.join(\", \");\n  };\n\n  const hasValue = value != null && value.length > 0;\n\n  const onChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setValue(e.target.value);\n  };\n\n  return (\n    <FormControl>\n      <Select multiple\n        variant=\"standard\"\n        autoWidth\n        displayEmpty\n        label={!readonly ? placeholder : \"\"}\n        onChange={onChange}\n        value={hasValue ? value : []}\n        disabled={readonly}\n        readOnly={readonly}\n        renderValue={renderValue}\n        size=\"small\"\n        {...omit(customProps, [\"showSearch\", \"input\", \"showCheckboxes\"])}\n      >\n        {renderOptions(hasValue ? value : [])}\n      </Select>\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport omit from \"lodash/omit\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Autocomplete, { createFilterOptions } from \"@mui/material/Autocomplete\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Chip from \"@mui/material/Chip\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Check from \"@mui/icons-material/Check\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport { Hooks } from \"@react-awesome-query-builder/ui\";\nconst { useListValuesAutocomplete } = Hooks;\nconst defaultFilterOptions = createFilterOptions();\nconst emptyArray = [];\n\n\nexport default (props) => {\n  const {\n    allowCustomValues, multiple,\n    value: selectedValue, customProps, readonly, config, groupBy, filterOptionsConfig\n  } = props;\n  const filterOptionsFn = filterOptionsConfig ? createFilterOptions(filterOptionsConfig) : defaultFilterOptions;\n\n  // hook\n  const {\n    open,\n    onOpen,\n    onClose,\n    onChange,\n    onInputChange,\n    inputValue,\n    options,\n    isInitialLoading,\n    isLoading,\n    aPlaceholder,\n    extendOptions,\n    getOptionSelected,\n    getOptionDisabled,\n    getOptionIsCustom,\n    getOptionLabel,\n    selectedListValue,\n  } = useListValuesAutocomplete(props, {\n    debounceTimeout: 100,\n    multiple,\n    uif: \"mui\"\n  });\n\n  // setings\n  const {defaultSelectWidth, defaultSearchWidth} = config.settings;\n  const {width, ...rest} = customProps || {};\n  let customInputProps = rest.input || {};\n  const inputWidth = customInputProps.width || defaultSearchWidth; // todo: use as min-width for Autocomplete comp\n  customInputProps = omit(customInputProps, [\"width\"]);\n  const customAutocompleteProps = omit(rest, [\"showSearch\", \"showCheckboxes\"]);\n\n  const fullWidth = true;\n  const minWidth = width || defaultSelectWidth;\n  const style = {\n    width: (multiple ? undefined : minWidth),\n    minWidth: minWidth\n  };\n  const placeholder = !readonly ? aPlaceholder : \"\";\n  const hasValue = selectedValue != null;\n  // should be simple value to prevent re-render!s\n  const value = hasValue ? selectedValue : (multiple ? emptyArray : null);\n  \n  const filterOptions = (options, params) => {\n    const filtered = filterOptionsFn(options, params);\n    const extended = extendOptions(filtered);\n    return extended;\n  };\n\n  // render\n  const renderInput = (params) => {\n    // parity with Antd\n    const shouldRenderSelected = !multiple && !open;\n    const selectedTitle = selectedListValue?.title ?? \"\";\n    const shouldHide = multiple && !open;\n    const value = shouldRenderSelected ? selectedTitle : (shouldHide ? \"\" : inputValue ?? \"\");\n    return (\n      <TextField \n        variant=\"standard\"\n        {...params}\n        inputProps={{\n          ...params.inputProps,\n          value,\n        }}\n        InputProps={{\n          ...params.InputProps,\n          readOnly: readonly,\n          endAdornment: (\n            <React.Fragment>\n              {isLoading ? <CircularProgress color=\"inherit\" size={20}  /> : null}\n              {params.InputProps.endAdornment}\n            </React.Fragment>\n          ),\n        }}\n        disabled={readonly}\n        placeholder={placeholder}\n        //onChange={onInputChange}\n        {...customInputProps}\n      />\n    );\n  };\n\n  const renderTags = (value, getTagProps) => value.map((option, index) => {\n    return <Chip\n      key={option.value}\n      label={getOptionLabel(option)}\n      size={\"small\"}\n      variant={getOptionIsCustom(option) ? \"outlined\" : \"filled\"}\n      {...getTagProps({ index })}\n    />;\n  });\n\n  const isOptionEqualToValue = (option, value) => {\n    return option?.value == value;\n  };\n\n  const renderOption = (props, option) => {\n    const { title, renderTitle, value, isHidden } = option;\n    const isSelected = multiple ? (selectedValue || []).includes(value) : selectedValue == value;\n    const className = getOptionIsCustom(option) ? \"customSelectOption\" : undefined;\n    const titleSpan = (\n      <span className={className}>\n        {renderTitle || title}\n      </span>\n    );\n    if (isHidden)\n      return null;\n    if (option.specialValue) {\n      return <div {...props}>{renderTitle || title}</div>;\n    } else if (multiple) {\n      return (\n        <MenuItem\n          {...props}\n          size={\"small\"}\n          selected={isSelected}\n        >\n          {!isSelected && <ListItemText inset>{titleSpan}</ListItemText>}\n          {isSelected && <><ListItemIcon><Check /></ListItemIcon>{titleSpan}</>}\n        </MenuItem>\n      );\n    } else {\n      return <div {...props}>{titleSpan}</div>;\n    }\n  };\n\n  return (\n    <FormControl fullWidth={fullWidth}>\n      <Autocomplete\n        disableCloseOnSelect={multiple}\n        fullWidth={fullWidth}\n        multiple={multiple}\n        style={style}\n        freeSolo={allowCustomValues}\n        loading={isInitialLoading}\n        open={open}\n        onOpen={onOpen}\n        onClose={onClose}\n        inputValue={inputValue}\n        onInputChange={onInputChange}\n        label={placeholder}\n        onChange={onChange}\n        value={value}\n        disabled={readonly}\n        readOnly={readonly}\n        options={options}\n        groupBy={groupBy}\n        getOptionLabel={getOptionLabel}\n        getOptionDisabled={getOptionDisabled}\n        renderInput={renderInput}\n        renderTags={renderTags}\n        renderOption={renderOption}\n        filterOptions={filterOptions}\n        isOptionEqualToValue={isOptionEqualToValue}\n        size=\"small\"\n        {...customAutocompleteProps}\n      />\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport MuiAutocomplete from \"../value/MuiAutocomplete\";\n\nconst itemsToListValues = (items, level = 0) => (\n  items.map(item => {\n    const {items, path, label, disabled, grouplabel} = item;\n    const prefix = \"\\u00A0\\u00A0\".repeat(level);\n    if (items) {\n      return itemsToListValues(items, level+1);\n    } else {\n      return {\n        title: label,\n        renderTitle: prefix+label,\n        value: path,\n        disabled,\n        groupTitle: level > 0 ? prefix+grouplabel : null,\n      };\n    }\n  }).flat(Infinity)\n);\n\nconst filterOptionsConfig = {\n  stringify: (option) => {\n    const keysForFilter = [\"title\", \"value\", \"grouplabel\", \"label\"];\n    const valueForFilter = keysForFilter\n      .map(k => (typeof option[k] == \"string\" ? option[k] : \"\"))\n      .join(\"\\0\");\n    return valueForFilter;\n  }\n};\n\nconst fieldAdapter = ({items, selectedKey, setField, ...rest}) => {\n  const listValues = itemsToListValues(items);\n  const groupBy = (option) => option.groupTitle;\n  const value = selectedKey;\n  const setValue = (value, _asyncValues) => {\n    if (!value) return undefined;\n    return setField(value);\n  };\n\n  return {\n    ...rest,\n    listValues,\n    setValue,\n    groupBy,\n    filterOptionsConfig,\n    allowCustomValues: false,\n    multiple: false,\n    value,\n  };\n};\n\nexport default (props) => {\n  return <MuiAutocomplete  {...fieldAdapter(props)} />;\n};\n","import React from \"react\";\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\nimport { ConfirmProvider, useConfirm } from \"material-ui-confirm\";\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\nimport { AdapterMoment } from \"@mui/x-date-pickers/AdapterMoment\"; // TODO: set moment to dayjs\n\n\n// value widgets\nimport MuiTextWidget from \"./value/MuiText\";\nimport MuiTextAreaWidget from \"./value/MuiTextArea\";\nimport MuiDateWidget from \"./value/MuiDate\";\nimport MuiDateTimeWidget from \"./value/MuiDateTime\";\nimport MuiTimeWidget from \"./value/MuiTime\";\nimport MuiSelectWidget from \"./value/MuiSelect\";\nimport MuiNumberWidget from \"./value/MuiNumber\";\nimport MuiSliderWidget from \"./value/MuiSlider\";\nimport MuiRangeWidget from \"./value/MuiRange\";\nimport MuiBooleanWidget from \"./value/MuiBoolean\";\nimport MuiMultiSelectWidget from \"./value/MuiMultiSelect\";\nimport MuiAutocompleteWidget from \"./value/MuiAutocomplete\";\n\n// field select widgets\nimport MuiFieldSelect from \"./core/MuiFieldSelect\";\nimport MuiFieldAutocomplete from \"./core/MuiFieldAutocomplete\";\n\n// core components\nimport MuiButton from \"./core/MuiButton\";\nimport MuiButtonGroup from \"./core/MuiButtonGroup\";\nimport MuiConjs from \"./core/MuiConjs\";\nimport MuiSwitch from \"./core/MuiSwitch\";\nimport MuiValueSources from \"./core/MuiValueSources\";\nimport MuiConfirm from \"./core/MuiConfirm\";\n\n// provider\nconst MuiProvider = ({config, children}) => {\n  const settingsTheme = config.settings.theme || {};\n  const settingsLocale = config.settings.locale || {};\n  const themeConfig = settingsTheme.mui;\n  const locale = settingsLocale.mui;\n  const theme = createTheme(themeConfig, locale, { \n    palette: {\n      neutral: {\n        main: \"#64748B\",\n        contrastText: \"#fff\"\n      },\n    }\n  });\n\n  const base = (<div className=\"mui\">{children}</div>);\n  const withProviders = (\n    <LocalizationProvider dateAdapter={AdapterMoment} >\n      <ConfirmProvider>\n        {base}\n      </ConfirmProvider>\n    </LocalizationProvider>\n  );\n  const withTheme = theme ? (\n    <ThemeProvider theme={theme}>\n      {withProviders}\n    </ThemeProvider>\n  ) : withProviders;\n\n  return withTheme;\n};\n\n\nexport default {\n  MuiTextWidget,\n  MuiTextAreaWidget,\n  MuiDateWidget,\n  MuiDateTimeWidget,\n  MuiTimeWidget,\n  MuiSelectWidget,\n  MuiNumberWidget,\n  MuiSliderWidget,\n  MuiRangeWidget,\n  MuiBooleanWidget,\n  MuiMultiSelectWidget,\n  MuiAutocompleteWidget,\n\n  MuiFieldSelect,\n  MuiFieldAutocomplete,\n\n  MuiButton,\n  MuiButtonGroup,\n  MuiConjs,\n  MuiSwitch,\n  MuiValueSources,\n  MuiConfirm,\n  MuiUseConfirm: useConfirm,\n\n  MuiProvider,\n};\n","import React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, placeholder, customProps, maxLength} = props;\n\n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\")\n      val = undefined; // don't allow empty value\n    setValue(val);\n  };\n\n  const textValue = value || \"\";\n\n  return (\n    <FormControl>\n      <TextField \n        variant=\"standard\"\n        value={textValue}\n        placeholder={!readonly ? placeholder : \"\"}\n        InputProps={{\n          readOnly: readonly,\n        }}\n        inputProps={{\n          maxLength: maxLength,\n        }}\n        disabled={readonly}\n        onChange={onChange}\n        size=\"small\"\n        {...customProps}\n      />\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, placeholder, customProps, maxLength, maxRows, fullWidth} = props;\n  const {defaultMaxRows} = config.settings;\n\n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\")\n      val = undefined; // don't allow empty value\n    setValue(val);\n  };\n  \n  const textValue = value || \"\";\n\n  return (\n    <FormControl fullWidth={fullWidth}>\n      <TextField \n        variant=\"standard\"\n        fullWidth={fullWidth}\n        maxRows={maxRows || defaultMaxRows}\n        multiline={true}\n        value={textValue}\n        placeholder={!readonly ? placeholder : \"\"}\n        InputProps={{\n          readOnly: readonly,\n        }}\n        inputProps={{\n          maxLength: maxLength,\n        }}\n        disabled={readonly}\n        onChange={onChange}\n        size=\"small\"\n        {...customProps}\n      />\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\nimport FormControl from \"@mui/material/FormControl\";\nimport TextField from \"@mui/material/TextField\";\n\nexport default (props) => {\n  const {value, setValue, readonly, customProps, dateFormat, valueFormat, placeholder} = props;\n\n  const formatSingleValue = (value) => {\n    return value && value.isValid() ? value.format(valueFormat) : undefined;\n  };\n\n  const handleChange = (value) => {\n    setValue(formatSingleValue(value));\n  };\n  \n  const renderInput = (params) => \n    <TextField \n      size=\"small\" \n      variant=\"standard\"\n      {...params}\n    />;\n\n  const desktopModeMediaQuery = \"@media (pointer: fine), (pointer: none)\";\n\n  return (\n    <FormControl>\n      <DatePicker\n        desktopModeMediaQuery={desktopModeMediaQuery}\n        readOnly={readonly}\n        disabled={readonly}\n        toolbarPlaceholder={!readonly ? placeholder : \"\"}\n        inputFormat={dateFormat}\n        value={value || null}\n        onChange={handleChange}\n        renderInput={renderInput}\n        {...customProps}\n      />\n    </FormControl>\n  );\n};","import React from \"react\";\nimport { DateTimePicker } from \"@mui/x-date-pickers/DateTimePicker\";\nimport FormControl from \"@mui/material/FormControl\";\nimport TextField from \"@mui/material/TextField\";\n\nexport default (props) => {\n  const {value, setValue, use12Hours, readonly, placeholder, dateFormat, timeFormat, valueFormat, customProps} = props;\n\n  const formatSingleValue = (value) => {\n    return value && value.isValid() ? value.format(valueFormat) : undefined;\n  };\n\n  const handleChange = (value) => {\n    setValue(formatSingleValue(value));\n  };\n\n  const dateTimeFormat = dateFormat + \" \" + timeFormat;\n  \n  const renderInput = (params) => \n    <TextField \n      size=\"small\" \n      variant=\"standard\"\n      {...params}\n    />;\n\n  const desktopModeMediaQuery = \"@media (pointer: fine), (pointer: none)\";\n\n  return (\n    <FormControl>\n      <DateTimePicker\n        desktopModeMediaQuery={desktopModeMediaQuery}\n        readOnly={readonly}\n        disabled={readonly}\n        ampm={!!use12Hours}\n        toolbarPlaceholder={!readonly ? placeholder : \"\"}\n        inputFormat={dateTimeFormat}\n        value={value || null}\n        onChange={handleChange}\n        renderInput={renderInput}\n        {...customProps}\n      />\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, min, max, step, placeholder, customProps} = props;\n  \n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\" || val === null)\n      val = undefined;\n    else\n      val = Number(val);\n    setValue(val);\n  };\n\n  const numberValue = value == undefined ? \"\" : value;\n  \n  return (\n    <FormControl>\n      <TextField \n        variant=\"standard\"\n        type=\"number\"\n        value={numberValue}\n        placeholder={!readonly ? placeholder : \"\"}\n        InputProps={{\n          readOnly: readonly,\n        }}\n        inputProps={{\n          min: min,\n          max: max,\n          step: step,\n        }}\n        disabled={readonly}\n        onChange={onChange}\n        size=\"small\"\n        {...customProps}\n      />\n    </FormControl>\n  );\n};\n","import React, { useCallback, useMemo } from \"react\";\nimport Slider from \"@mui/material/Slider\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\n\nexport default (props) => {\n  const {config, placeholder, customProps, value, setValue, min, max, step, marks, readonly} = props;\n  const {defaultSliderWidth} = config.settings;\n\n  const handleSliderChange = useCallback((_e, newValue) => {\n    setValue(newValue);\n  }, []);\n\n  const handleInputChange = (e) => {\n    let val = e.target.value;\n    if (val === \"\" || val === null)\n      val = undefined;\n    else\n      val = Number(val);\n    setValue(val);\n  };\n\n  const handleInputBlur = () => {\n    // TIP: Fix if typed value out of range in input\n    if (value < min) {\n      setValue(min);\n    } else if (value > max) {\n      setValue(max);\n    }\n  };\n\n\n  const {width, ...rest} =  customProps || {};\n  const customInputProps = rest.input || {};\n  const customSliderProps = rest.slider || rest;\n  \n  // TIP: Can't pass undefined to MUI, cause it means uncontrolled component use.\n  //      For empty value input needs \"\", slider needs null or 0\n  const inputValue = typeof value === \"number\" ? value : \"\";\n  const sliderValue = typeof value === \"number\" ? value : null;\n\n  // marks example: { 0: \"0%\", 100: React.createElement('strong', null, \"100%\") }\n  const muiMarks = useMemo(() => marks ? Object.keys(marks).map(v => ({\n    value: Number(v),\n    label: typeof marks[v] === \"object\" || typeof marks[v] === \"undefined\" ? marks[v] : <p>{marks[v]}</p>\n  })) : false, [marks]);\n\n  const InputCmp = (\n    <TextField \n      variant=\"standard\"\n      type=\"number\"\n      value={inputValue}\n      placeholder={placeholder}\n      InputProps={{\n        readOnly: readonly,\n      }}\n      inputProps={{\n        min: min,\n        max: max,\n        step: step,\n      }}\n      disabled={readonly}\n      onChange={handleInputChange}\n      onBlur={handleInputBlur}\n      size=\"small\"\n      {...customInputProps}\n    />\n  );\n\n  const SliderCmp = (\n    <Slider \n      value={sliderValue}\n      onChange={handleSliderChange}\n      disabled={readonly}\n      min={min}\n      max={max}\n      step={step}\n      marks={muiMarks}\n      valueLabelDisplay=\"auto\"\n      size=\"small\"\n      {...customSliderProps}\n    />\n  );\n\n  const stylesWrapper = {\n    display: \"inline-flex\", \n    alignItems: \"center\",\n    flexWrap: \"wrap\"\n  };\n\n  const stylesInputWrapper = {\n    marginLeft: \"5px\",\n  };\n\n  const stylesSliderWrapper = {\n    marginLeft: \"5px\", \n    paddingLeft: \"12px\", \n    marginBottom: muiMarks && \"-16px\", \n    width: width || defaultSliderWidth,\n  };\n\n  return (\n    <FormControl>\n      <div style={stylesWrapper}>\n        <div style={stylesInputWrapper}>\n          {InputCmp}\n        </div>\n        <div style={stylesSliderWrapper}>\n          {SliderCmp}\n        </div>\n      </div>\n    </FormControl>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport Slider from \"@mui/material/Slider\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControl from \"@mui/material/FormControl\";\n\nexport default (props) => {\n  const {config, placeholders, customProps, value, setValue, min, max, step, marks, readonly, textSeparators} = props;\n  const {defaultSliderWidth} = config.settings;\n\n  useEffect(() => {\n    const [valueFrom, valueTo] = props.value || [undefined, undefined];\n    if (props.value && (valueFrom == undefined || valueTo == undefined)) {\n      // happens if we changed op from '==' to 'between'\n      // (I know, timeout is dirty hack..)\n      setTimeout(() => {\n        const oneValue = valueFrom || valueTo;\n        const value = [oneValue, oneValue];\n        setValue(value);\n      }, 1);\n    }\n  }, []);\n\n  const handleSliderChange = (_e, newValues) => {\n    setValue(newValues);\n  };\n\n  const handleInputChangeFrom = (e) => {\n    // TIP: need to use props.value instead of value\n    let valueFrom = e.target.value;\n    if (valueFrom === \"\" || valueFrom == null)\n      valueFrom = undefined;\n    else\n      valueFrom = Number(valueFrom);\n    let value = props.value ? [...props.value] : [undefined, undefined];\n    value[0] = valueFrom;\n    setValue(value);\n  };\n\n  const handleInputChangeTo = (e) => {\n    let valueTo = e.target.value;\n    if (valueTo === \"\" || valueTo == null)\n      valueTo = undefined;\n    else\n      valueTo = Number(valueTo);\n    let value = props.value ? [...props.value] : [undefined, undefined];\n    value[1] = valueTo;\n    setValue(value);\n  };\n\n  const handleInputBlur = () => {\n    // TIP: Fix if typed value out of range in inputs\n    if (!value) return;\n    if (value[0] < min) {\n      setValue([min, value[1]]);\n    } else if (value[1] > max) {\n      setValue([value[0], max]);\n    }\n  };\n\n  const {width, ...rest} =  customProps || {};\n  const customInputProps = rest.input || {};\n  const customSliderProps = rest.slider || rest;\n\n  // marks example: { 0: \"0%\", 100: React.createElement('strong', null, \"100%\") }\n  const muiMarks = marks ? Object.keys(marks).map(v => ({\n    value: Number(v),\n    label: typeof marks[v] === \"object\" || typeof marks[v] === \"undefined\" ? marks[v] : <p>{marks[v]}</p>\n  })) : false;\n\n\n  // TIP: Can't pass undefined to MUI, cause it means uncontrolled component use.\n  //      For empty value input needs \"\", slider needs null or 0, but null will cause problems with range mode\n  let sliderValue = value ? [...value] : [undefined, undefined];\n  let [valueFrom, valueTo] = sliderValue;\n  if (valueFrom == undefined) {\n    valueFrom = \"\";\n    sliderValue[0] = 0;\n  }\n  if (valueTo == undefined) {\n    valueTo = \"\";\n    sliderValue[1] = 0;\n  }\n  \n\n  const FromInputCmp = (\n    <TextField \n      variant=\"standard\"\n      type=\"number\"\n      value={valueFrom}\n      placeholder={placeholders[0]}\n      InputProps={{\n        readOnly: readonly,\n      }}\n      inputProps={{\n        min: min,\n        max: max,\n        step: step,\n      }}\n      disabled={readonly}\n      onChange={handleInputChangeFrom}\n      onBlur={handleInputBlur}\n      size=\"small\"\n      {...customInputProps}\n    />\n  );\n\n  const ToInputCmp = (\n    <TextField \n      variant=\"standard\"\n      type=\"number\"\n      value={valueTo}\n      placeholder={placeholders[1]}\n      InputProps={{\n        readOnly: readonly,\n      }}\n      inputProps={{\n        min: min,\n        max: max,\n        step: step,\n      }}\n      disabled={readonly}\n      onChange={handleInputChangeTo}\n      onBlur={handleInputBlur}\n      size=\"small\"\n      {...customInputProps}\n    />\n  );\n\n  const SliderCmp = (\n    <Slider \n      value={sliderValue}\n      onChange={handleSliderChange}\n      disabled={readonly}\n      min={min}\n      max={max}\n      step={step}\n      marks={muiMarks}\n      valueLabelDisplay=\"auto\"\n      size=\"small\"\n      {...customSliderProps}\n    />\n  );\n\n  const stylesWrapper = {\n    display: \"inline-flex\", \n    flexWrap: \"wrap\"\n  };\n\n  const stylesInputWrapper = {\n    marginLeft: \"5px\",\n  };\n\n  const stylesSliderWrapper = {\n    marginLeft: \"5px\", \n    paddingLeft: \"12px\", \n    marginBottom: muiMarks && \"-16px\", \n    width: width || defaultSliderWidth,\n  };\n\n  return (\n    <FormControl>\n      <div style={stylesWrapper}>\n        <div style={stylesInputWrapper}>\n          {FromInputCmp}\n        </div>\n        <div className={\"widget--sep\"}>\n          <span>{ textSeparators[1] }</span>\n        </div>\n        <div style={stylesInputWrapper}>\n          {ToInputCmp}\n        </div>\n        <div style={stylesSliderWrapper}>\n          {SliderCmp}\n        </div>\n      </div>\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport Switch from \"@mui/material/Switch\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Grid from \"@mui/material/Grid\";\nimport Typography from \"@mui/material/Typography\";\n\nexport default (props) => {\n  const { customProps, value, setValue, labelYes, labelNo, readonly } = props;\n\n  const onChange = () => {\n    setValue(!value);\n  };\n  \n  return (\n    <FormControl>\n      <Typography component=\"div\">\n        <Grid component=\"label\" container alignItems=\"center\" spacing={0}>\n          <Grid item component=\"span\">{labelNo}</Grid>\n          <Grid item component=\"span\">\n            <Switch\n              checked={!!value}\n              onChange={onChange}\n              disabled={readonly}\n              {...customProps}\n            />\n          </Grid>\n          <Grid item component=\"span\">{labelYes}</Grid>\n        </Grid>\n      </Typography>\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport Select from \"@mui/material/Select\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport ListSubheader from \"@mui/material/ListSubheader\";\nimport FormControl from \"@mui/material/FormControl\";\n\nexport default ({items, setField, selectedKey, readonly, placeholder}) => {\n  const renderOptions = (fields, level = 0) => (\n    Object.keys(fields).map(fieldKey => {\n      const field = fields[fieldKey];\n      const {items, path, label, disabled} = field;\n      const prefix = \"\\u00A0\\u00A0\".repeat(level);\n      if (items) {\n        return [\n          <ListSubheader disabled={disabled} key={path} disableSticky={true}>\n            {prefix && <span>{prefix}</span>}\n            {label}\n          </ListSubheader>,\n          renderOptions(items, level+1),\n        ];\n      } else {\n        return <MenuItem disabled={disabled} key={path} value={path}>\n          {prefix && <span>{prefix}</span>}\n          {label}\n        </MenuItem>;\n      }\n    })\n  );\n\n  const onChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setField(e.target.value);\n  };\n\n  const renderValue = (selectedValue) => {\n    if (!readonly && !selectedValue)\n      return placeholder;\n    const findLabel = (fields) => {\n      return fields.map(field => {\n        if(!field.items) return field.path === selectedValue ? field.label : null;\n        return findLabel(field.items);\n      });\n    };\n    return findLabel(items).filter((v) => {\n      if (Array.isArray(v)) {\n        return v.some((value) => value !== null);\n      } else {\n        return v !== null;\n      }\n    }).pop();\n  };\n  \n  const hasValue = selectedKey != null;\n  return (\n    <FormControl>\n      <Select\n        variant=\"standard\"\n        autoWidth\n        displayEmpty\n        placeholder={placeholder}\n        onChange={onChange}\n        value={hasValue ? selectedKey : \"\"}\n        disabled={readonly}\n        renderValue={renderValue}\n        size=\"small\"\n      >\n        {renderOptions(items)}\n      </Select>\n    </FormControl>\n  );\n};\n","import React from \"react\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport Button from \"@mui/material/Button\";\nimport IconButton from \"@mui/material/IconButton\";\n\nexport default ({type, label, onClick, readonly, config}) => {\n  const hideLabelsFor = {\n    \"addRuleGroup\": true,\n    \"addRuleGroupExt\": true,\n  };\n  const typeToIcon = {\n    \"delGroup\": <DeleteIcon />,\n    \"delRuleGroup\": <DeleteIcon />,\n    \"delRule\": <DeleteIcon />,\n    \"addRule\": <AddIcon />,\n    \"addGroup\": <AddIcon />,\n    \"addRuleGroupExt\": <AddIcon />,\n    \"addRuleGroup\": <AddIcon />,\n  };\n  const typeToColor = {\n    \"addRule\": \"neutral\",\n    \"addGroup\": \"primary\",\n    \"delGroup\": \"secondary\",\n    \"delRuleGroup\": \"secondary\",\n    \"delRule\": \"secondary\",\n  };\n  if (!label || hideLabelsFor[type]) {\n    return (\n      <IconButton\n        size=\"small\" \n        disabled={readonly} \n        onClick={onClick} \n        color={typeToColor[type]}\n      >{typeToIcon[type]}</IconButton>\n    );\n  } else {\n    return (\n      <Button \n        size=\"small\" \n        disabled={readonly} \n        onClick={onClick} \n        color={typeToColor[type]} \n        startIcon={typeToIcon[type]}\n      >{label}</Button>\n    );\n  }\n};\n","import React from \"react\";\n\nexport default ({children, config}) => {\n  return <>{children}</>;\n};\n","import React from \"react\";\nimport FormControl from \"@mui/material/FormControl\";\nimport ButtonGroup from \"@mui/material/ButtonGroup\";\nimport Button from \"@mui/material/Button\";\n\nexport default ({id, not, setNot, conjunctionOptions, setConjunction, disabled, readonly, config, showNot, notLabel}) => {\n  //TIP: disabled=true if only 1 rule; readonly=true if immutable mode\n  const conjsCount = Object.keys(conjunctionOptions).length;\n  const lessThenTwo = disabled;\n  const {forceShowConj} = config.settings;\n  const showConj = forceShowConj || conjsCount > 1 && !lessThenTwo;\n\n  const renderOptions = () => \n    Object.keys(conjunctionOptions).map(key => {\n      const {id, name, label, checked} = conjunctionOptions[key];\n      let postfix = setConjunction.isDummyFn ? \"__dummy\" : \"\";\n      if ((readonly || disabled) && !checked)\n        return null;\n      return (\n        <Button \n          key={id+postfix} \n          id={id+postfix} \n          color={checked ? \"primary\" : \"neutral\"} \n          value={key} \n          onClick={onClick.bind(null, key)} \n          disabled={readonly || disabled}\n        >\n          {label}\n        </Button>\n      );\n    });\n  \n  const renderNot = () => {\n    if (readonly && !not)\n      return null;\n    return (\n      <Button \n        key={id}\n        id={id + \"__not\"}\n        color={not ? \"secondary\" : \"neutral\"} \n        onClick={onNotClick.bind(null, !not)} \n        disabled={readonly}\n      >\n        {notLabel || \"NOT\"}\n      </Button>\n    );\n  };\n\n  const onClick = value => setConjunction(value);\n  const onNotClick = checked => setNot(checked);\n\n  return (\n    <FormControl>\n      <ButtonGroup \n        disableElevation \n        variant=\"contained\" \n        size=\"small\"\n        disabled={readonly}\n      >\n        {showNot && renderNot()}\n        {showConj && renderOptions()}\n      </ButtonGroup>\n    </FormControl>\n  );\n  \n};\n","import React from \"react\";\nimport Switch from \"@mui/material/Switch\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Button from \"@mui/material/Button\";\nimport LockOpenIcon from \"@mui/icons-material/LockOpen\";\nimport LockIcon from \"@mui/icons-material/Lock\";\n\nexport default ({value, setValue, label, checkedLabel, hideLabel, id, config, type}) => {\n  const {renderSize} = config.settings;\n  const onChange = e => setValue(e.target.checked);\n  const onClick = () => setValue(!value);\n  const postfix = type;\n  const showLabel = value ? (checkedLabel || label) : label;\n  const icon = value ? <LockIcon /> : <LockOpenIcon />;\n\n  if (type == \"lock\") {\n    if (hideLabel) {\n      return <IconButton\n        key={id+postfix}\n        onClick={onClick}\n        size={\"small\"}\n      >{icon}</IconButton>;\n    } else {\n      return <Button\n        key={id+postfix}\n        onClick={onClick}\n        size={\"small\"}\n        startIcon={icon}\n      >{showLabel}</Button>;\n    }\n  }\n\n  return <FormControlLabel \n    control={<Switch\n      checked={!!value}\n      size={\"small\"}\n      onChange={onChange}\n    />} \n    label={showLabel} \n  />;\n};\n","import React from \"react\";\nimport IconButton from \"@mui/material/IconButton\";\nimport ExpandMoreSharpIcon from \"@mui/icons-material/ExpandMoreSharp\";\nimport Popover from \"@mui/material/Popover\";\nimport Radio from \"@mui/material/Radio\";\nimport RadioGroup from \"@mui/material/RadioGroup\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport FormControl from \"@mui/material/FormControl\";\nimport FormLabel from \"@mui/material/FormLabel\";\n\nexport default ({ valueSources, valueSrc, title, setValueSrc, readonly}) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const toggleOpenClose = (event) => {\n    anchorEl ? handleClose() : handleOpen(event);\n  };\n\n  const handleChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setValueSrc(e.target.value);\n    handleClose();\n  };\n\n  const renderOptions = (valueSources) => (\n    valueSources.map(([srcKey, info]) => (\n      <FormControlLabel \n        key={srcKey} \n        value={srcKey} \n        checked={valueSrc == srcKey || !valueSrc && srcKey == \"value\"} \n        control={<Radio />} \n        label={info.label}\n      />\n    ))\n  );\n\n  const open = Boolean(anchorEl);\n\n  return (\n    <div>\n      <IconButton size=\"small\" onClick={toggleOpenClose}>\n        <ExpandMoreSharpIcon />\n      </IconButton>\n    \n      <Popover    \n        open={open}\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"left\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"left\",\n        }}\n        onClose={handleClose}\n        sx={{\n          padding: theme => theme.spacing(1)\n        }}\n        disablePortal\n      >\n        <FormControl component=\"fieldset\" sx={{ p: 2 }}>\n          <FormLabel component=\"legend\">{title}</FormLabel>\n          <RadioGroup value={valueSrc || \"value\"} onChange={handleChange}>\n            {renderOptions(valueSources)}\n          </RadioGroup>\n        </FormControl>\n      </Popover>\n    </div>\n  );\n};\n","export default ({onOk, okText, cancelText, title, confirmFn}) => {\n  confirmFn({ \n    description: title || \"Are you sure?\",\n    title: null,\n    confirmationText: okText || \"Ok\",\n    cancellationText: cancelText || \"Cancel\",\n  })\n    .then(onOk)\n    .catch(() => {});\n};\n","import React from \"react\";\nimport MuiWidgets from \"../widgets\";\nimport { BasicConfig, Utils } from \"@react-awesome-query-builder/ui\";\n\n\nconst settings = {\n  ...BasicConfig.settings,\n\n  renderField: (props, {RCE, W: {MuiFieldAutocomplete, MuiFieldSelect}}) => props?.customProps?.showSearch \n    ? RCE(MuiFieldAutocomplete, props)\n    : RCE(MuiFieldSelect, props),\n  renderOperator: (props, {RCE, W: {MuiFieldSelect}}) => RCE(MuiFieldSelect, props),\n  renderFunc: (props, {RCE, W: {MuiFieldSelect}}) => RCE(MuiFieldSelect, props),\n  renderConjs: (props, {RCE, W: {MuiConjs}}) => RCE(MuiConjs, props),\n  renderSwitch: (props, {RCE, W: {MuiSwitch}}) => RCE(MuiSwitch, props),\n  renderButton: (props, {RCE, W: {MuiButton}}) => RCE(MuiButton, props),\n  renderButtonGroup: (props, {RCE, W: {MuiButtonGroup}}) => RCE(MuiButtonGroup, props),\n  renderValueSources: (props, {RCE, W: {MuiValueSources}}) => RCE(MuiValueSources, props),\n  renderProvider: (props, {RCE, W: {MuiProvider}}) => RCE(MuiProvider, props),\n  renderConfirm: (props, {W: {MuiConfirm}}) => MuiConfirm(props),\n  useConfirm: ({W: {MuiUseConfirm}}) => MuiUseConfirm(),\n};\n\nconst widgets = {\n  ...BasicConfig.widgets,\n  text: {\n    ...BasicConfig.widgets.text,\n    factory: (props, {RCE, W: {MuiTextWidget}}) => RCE(MuiTextWidget, props),\n  },\n  textarea: {\n    ...BasicConfig.widgets.textarea,\n    factory: (props, {RCE, W: {MuiTextAreaWidget}}) => RCE(MuiTextAreaWidget, props),\n  },\n  number: {\n    ...BasicConfig.widgets.number,\n    factory: (props, {RCE, W: {MuiNumberWidget}}) => RCE(MuiNumberWidget, props),\n  },\n  multiselect: {\n    ...BasicConfig.widgets.multiselect,\n    factory: (props, {RCE, W: {MuiAutocompleteWidget, MuiMultiSelectWidget}}) => {\n      return (props.asyncFetch || props.showSearch) \n        ? RCE(MuiAutocompleteWidget, {...props, multiple: true}) \n        : RCE(MuiMultiSelectWidget, props);\n    },\n  },\n  select: {\n    ...BasicConfig.widgets.select,\n    factory: (props, {RCE, W: {MuiAutocompleteWidget, MuiSelectWidget}}) => {\n      return (props.asyncFetch || props.showSearch) \n        ? RCE(MuiAutocompleteWidget, props) \n        : RCE(MuiSelectWidget, props);\n    },\n  },\n  slider: {\n    ...BasicConfig.widgets.slider,\n    factory: (props, {RCE, W: {MuiSliderWidget}}) => RCE(MuiSliderWidget, props),\n  },\n  boolean: {\n    ...BasicConfig.widgets.boolean,\n    factory: (props, {RCE, W: {MuiBooleanWidget}}) => RCE(MuiBooleanWidget, props),\n  },\n  date: {\n    ...BasicConfig.widgets.date,\n    factory: (props, {RCE, W: {MuiDateWidget}}) => RCE(MuiDateWidget, props),\n  },\n  time: {\n    ...BasicConfig.widgets.time,\n    factory: (props, {RCE, W: {MuiTimeWidget}}) => RCE(MuiTimeWidget, props),\n  },\n  datetime: {\n    ...BasicConfig.widgets.datetime,\n    factory: (props, {RCE, W: {MuiDateTimeWidget}}) => RCE(MuiDateTimeWidget, props),\n  },\n  rangeslider: {\n    ...BasicConfig.widgets.rangeslider,\n    factory: (props, {RCE, W: {MuiRangeWidget}}) => RCE(MuiRangeWidget, props),\n  },\n};\n\nconst types = {\n  ...BasicConfig.types,\n};\n\nconst ctx = {\n  ...BasicConfig.ctx,\n  W: {\n    ...BasicConfig.ctx.W,\n    ...MuiWidgets,\n  },\n};\n\n\nlet config = {\n  ...BasicConfig,\n  ctx,\n  types,\n  widgets,\n  settings,\n};\nconfig = Utils.ConfigMixins.addMixins(config, [\n  \"rangeslider\",\n]);\n\nexport default config;\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { moment } = Utils;\n\nexport default (props) => {\n  const {value, setValue, config, valueFormat, use12Hours, readonly} = props;\n\n  const onChange = e => {\n    let value = e.target.value;\n    if (value == \"\")\n      value = undefined;\n    else\n      value = moment(new Date(value)).format(valueFormat);\n    setValue(value);\n  };\n\n  let dtValue = value;\n  if (!value)\n    dtValue = \"\";\n  else\n    dtValue = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n  \n  return (\n    <Input type=\"datetime-local\" bsSize={\"sm\"} value={dtValue} disabled={readonly} onChange={onChange} />\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Dropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n} from \"reactstrap\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { mapListValues } = Utils.ListUtils;\n\nexport default ({\n  listValues,\n  value: selectedValue,\n  setValue,\n  allowCustomValues,\n  readonly,\n  placeholder,\n}) => {\n  const onChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setValue(e.target.value);\n  };\n\n  const renderOptions = () =>\n    mapListValues(listValues, ({ title, value }) => {\n      return (\n        <DropdownItem\n          key={value}\n          onClick={onChange}\n          value={value}\n          active={selectedValue == value}\n        >\n          {title}\n        </DropdownItem>\n      );\n    });\n\n  const renderValue = (selectedValue) => {\n    if (!readonly && selectedValue == null)\n      return placeholder;\n    return getListValueTitle(selectedValue);\n  };\n\n  const getListValueTitle = (selectedValue) => \n    mapListValues(listValues, ({title, value}) => \n      (value === selectedValue ? title : null)\n    )\n      .filter(v => v !== null)\n      .shift();\n\n  const hasValue = selectedValue != null;\n  const [isOpen, setIsOpen] = useState(false);\n\n  const stylesDropdownWrapper = {\n    lineHeight: \"105%\",\n    minHeight: \"1.7rem\",\n    paddingBottom: \"0.45rem\"\n  };\n\n  const stylesDropdownMenuWrapper = {\n    //minWidth: \"100%\"\n  };\n\n  return (\n    <Dropdown\n      isOpen={isOpen}\n      onClick={() => (!isOpen ? setIsOpen(true) : setIsOpen(false))}\n      disabled={readonly}\n      toggle={() => setIsOpen(!isOpen)}\n    >\n      <DropdownToggle\n        tag={\"button\"}\n        className={\"form-select\"}\n        style={stylesDropdownWrapper}\n        color={\"transparent\"}\n      >\n        {hasValue ? renderValue(selectedValue) : <span>&nbsp;</span>}\n      </DropdownToggle>\n      <DropdownMenu\n        container=\"body\"\n        style={stylesDropdownMenuWrapper}\n      >\n        {!hasValue && <DropdownItem disabled value={\"\"}></DropdownItem>}\n        {renderOptions()}\n      </DropdownMenu>\n    </Dropdown>\n  );\n};\n","import React from \"react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nimport { Button, ButtonGroup } from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes, faCheck } from \"@fortawesome/free-solid-svg-icons\";\nconst { uuid } = Utils;\n\nexport default (props) => {\n  const { value, setValue, config, labelYes, labelNo, readonly } = props;\n  const onRadioChange = (e) => setValue(e.target.value == \"true\");\n  const id = uuid(), id2 = uuid();\n  \n  return (\n    <>\n      <ButtonGroup>\n        <Button\n          id={id}\n          value={true}\n          checked={!!value}\n          disabled={readonly}\n          color={value === true ? \"success\" : \"secondary\"}\n          onClick={onRadioChange}\n          size={\"sm\"}\n        >\n          <FontAwesomeIcon icon={faCheck} />\n        </Button>\n        <Button\n          id={id2}\n          value={false}\n          checked={!value}\n          disabled={readonly}\n          color={value === false ? \"danger\" : \"secondary\"}\n          onClick={onRadioChange}\n          size={\"sm\"}\n        >\n          <FontAwesomeIcon icon={faTimes} />\n        </Button>\n      </ButtonGroup>\n    </>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Dropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n} from \"reactstrap\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { mapListValues } = Utils.ListUtils;\n\nexport default ({listValues, value, setValue, allowCustomValues, placeholder, readonly}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedValues, setSelectedValues] = useState(value ?? []);\n\n  const onChange = e => {\n    let value = getMultiSelectValues(e.target.value, listValues);\n    if (value.length == 0)\n      value = undefined;\n    setValue(value);\n  };\n\n  const renderOptions = () =>\n    mapListValues(listValues, ({ title, value }) => {\n      return (\n        <DropdownItem\n          key={value}\n          onClick={onChange}\n          value={value}\n          active={selectedValues.some(x => x === value)}\n        >\n          {title}\n        </DropdownItem>\n      );\n    });\n\n  const stylesDropdownWrapper = {\n    lineHeight: \"105%\",\n    minHeight: \"1.7rem\",\n    paddingBottom: \"0.45rem\"\n  };\n  \n  const stylesDropdownMenuWrapper = {\n    //minWidth: \"100%\"\n  };\n\n\n  const renderValue = (selectedValues) => {\n    if (!readonly && !selectedValues.length)\n      return placeholder;\n    const selectedTitles = mapListValues(listValues, ({title, value}) => (\n      selectedValues.indexOf(value) > -1 ? title : null\n    )).filter(v => v !== null);\n    return selectedTitles.join(\", \");\n  };\n\n  const getMultiSelectValues = (value, options) => {\n    if (!value) return selectedValues;\n\n    let isNewSelection = !selectedValues.includes(value);\n    let newSelectedValues = [];\n    \n    if (isNewSelection) {\n      newSelectedValues = [...selectedValues, value];\n      setSelectedValues(newSelectedValues);\n    }\n    else {\n      newSelectedValues = selectedValues.filter(x => x !== value);\n      setSelectedValues(newSelectedValues);\n    }\n    \n    return newSelectedValues;\n  };  \n\n  return (\n    <Dropdown\n      isOpen={isOpen}\n      onClick={() => (!isOpen ? setIsOpen(true) : setIsOpen(false))}\n      disabled={readonly}\n      toggle={() => setIsOpen(!isOpen)}\n    >\n      <DropdownToggle\n        tag={\"button\"}\n        className={\"form-select\"}\n        style={stylesDropdownWrapper}\n        color={\"transparent\"}\n      >\n        {selectedValues.length ? renderValue(selectedValues) : <span>&nbsp;</span>}\n      </DropdownToggle>\n      <DropdownMenu\n        container=\"body\"\n        style={stylesDropdownMenuWrapper}\n      >\n        {renderOptions()}\n      </DropdownMenu>\n    </Dropdown>\n  );\n};","// value widgets\nimport BootstrapTextWidget from \"./value/BootstrapText\";\nimport BootstrapTextAreaWidget from \"./value/BootstrapTextArea\";\nimport BootstrapDateWidget from \"./value/BootstrapDate\";\nimport BootstrapDateTimeWidget from \"./value/BootstrapDateTime\";\nimport BootstrapTimeWidget from \"./value/BootstrapTime\";\nimport BootstrapSelectWidget from \"./value/BootstrapSelect\";\nimport BootstrapNumberWidget from \"./value/BootstrapNumber\";\nimport BootstrapSliderWidget from \"./value/BootstrapSlider\";\nimport BootstrapBooleanWidget from \"./value/BootstrapBoolean\";\nimport BootstrapMultiSelectWidget from \"./value/BootstrapMultiSelect\";\n\n// field select widgets\nimport BootstrapFieldSelect from \"./core/BootstrapFieldSelect\";\n\n// core components\nimport BootstrapButton from \"./core/BootstrapButton\";\nimport BootstrapButtonGroup from \"./core/BootstrapButtonGroup\";\nimport BootstrapConjs from \"./core/BootstrapConjs\";\nimport BootstrapValueSources from \"./core/BootstrapValueSources\";\nimport BootstrapConfirm from \"./core/BootstrapConfirm\";\n\n// provider\nconst BootstrapProvider = ({config, children}) => children;\n\nexport default {\n  BootstrapTextWidget,\n  BootstrapTextAreaWidget,\n  BootstrapDateWidget,\n  BootstrapDateTimeWidget,\n  BootstrapTimeWidget,\n  BootstrapSelectWidget,\n  BootstrapNumberWidget,\n  BootstrapSliderWidget,\n  BootstrapBooleanWidget,\n  BootstrapMultiSelectWidget,\n\n  BootstrapFieldSelect,\n\n  BootstrapButton,\n  BootstrapButtonGroup,\n  BootstrapConjs,\n  BootstrapValueSources,\n  BootstrapConfirm,\n\n  BootstrapProvider,\n};\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, placeholder, maxLength} = props;\n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\")\n      val = undefined; // don't allow empty value\n    setValue(val);\n  };\n  \n  const textValue = value || \"\";\n\n  return (\n    <Input\n      type=\"text\"\n      bsSize={\"sm\"}\n      value={textValue} \n      placeholder={placeholder} \n      disabled={readonly} \n      onChange={onChange}\n      maxLength={maxLength}\n    />\n  );\n};\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, placeholder, maxLength, maxRows, fullWidth} = props;\n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\")\n      val = undefined; // don't allow empty value\n    setValue(val);\n  };\n  const textValue = value || \"\";\n  return (\n    <Input\n      type={\"textarea\"}\n      bsSize={\"sm\"}\n      value={textValue} \n      placeholder={placeholder}\n      disabled={readonly}\n      onChange={onChange}\n      maxLength={maxLength}\n      style={{\n        width: fullWidth ? \"100%\" : undefined\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\n\nexport default (props) => {\n  const {value, setValue, config, valueFormat, readonly} = props;\n\n  const onChange = e => {\n    let value = e.target.value;\n    if (value == \"\")\n      value = undefined;\n    setValue(value);\n  };\n  \n  return (\n    <Input type=\"date\" bsSize={\"sm\"} value={value || \"\"} disabled={readonly} onChange={onChange} />\n  );\n};\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\n\nexport default (props) => {\n  const {value, setValue, config, valueFormat, use12Hours, readonly} = props;\n\n  const onChange = e => {\n    let value = e.target.value;\n    if (value == \"\")\n      value = undefined;\n    setValue(value);\n  };\n  \n  return (\n    <Input type=\"time\" bsSize={\"sm\"} value={value || \"\"} disabled={readonly} onChange={onChange} />\n  );\n};\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, min, max, step, placeholder} = props;\n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\" || val === null)\n      val = undefined;\n    else\n      val = Number(val);\n    setValue(val);\n  };\n  const numberValue = value == undefined ? \"\" : value;\n  return (\n    <Input type=\"number\" bsSize={\"sm\"} value={numberValue} placeholder={placeholder} disabled={readonly} min={min} max={max} step={step} onChange={onChange} />\n  );\n};\n","import React from \"react\";\nimport { Input } from \"reactstrap\";\n\nexport default (props) => {\n  const {value, setValue, config, readonly, min, max, step, placeholder} = props;\n  const onChange = e => {\n    let val = e.target.value;\n    if (val === \"\" || val === null)\n      val = undefined;\n    else\n      val = Number(val);\n    setValue(val);\n  };\n\n  const stylesWrapper = {\n    display: \"inline-flex\",\n    flexWrap: \"wrap\"\n  };\n\n  const stylesInputWrapper = {\n    marginLeft: \"5px\",\n    display: \"inline-flex\",\n    width: \"auto\",\n  };\n\n  const stylesSliderWrapper = {\n    marginLeft: \"5px\",\n    display: \"inline-flex\",\n    width: \"auto\",\n    minWidth: \"150px\"\n  };\n\n  const numberValue = value == undefined ? \"\" : value;\n  return (<div style={stylesWrapper}>\n    <Input key={\"number\"} bsSize={\"sm\"} style={stylesInputWrapper} type=\"number\" value={numberValue} placeholder={placeholder} disabled={readonly} min={min} max={max} step={step} onChange={onChange} />\n    <Input key={\"range\"} bsSize={\"sm\"} style={stylesSliderWrapper} type=\"range\" value={numberValue} disabled={readonly} min={min} max={max} step={step} onChange={onChange} />\n  </div>);\n};\n","import React, { useState } from \"react\";\nimport {\n  Dropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n} from \"reactstrap\";\n\nexport default ({ items, setField, selectedKey, readonly, placeholder }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const stylesDropdownWrapper = {\n    lineHeight: \"105%\",\n    minHeight: \"1.7rem\",\n    paddingBottom: \"0.45rem\",\n  };\n\n  const stylesDropdownMenuWrapper = {\n    overflowY: \"auto\",\n    maxHeight: \"400px\",\n  };\n\n  const onChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setField(e.target.value);\n  };\n\n  const renderOptions = (fields, isGroupItem = false, level = 0) =>\n    Object.keys(fields).map((fieldKey) => {\n      const field = fields[fieldKey];\n      const { items, path, label, disabled } = field;\n      const groupPrefix = level > 0 ? \"\\u00A0\\u00A0\".repeat(level) : \"\";\n      const prefix = level > 1 ? \"\\u00A0\\u00A0\".repeat(level-1) : \"\";\n      if (items) {\n        return (\n          <div key={`dropdown-itemGroup-${path}`}>\n            <DropdownItem\n              header\n              key={`${path}-header`}\n              onClick={onChange}\n              value={path}\n            >\n              {groupPrefix+label}\n            </DropdownItem>\n            {renderOptions(items, true, level+1)}\n          </div>\n        );\n      } else {\n        return (\n          <DropdownItem\n            disabled={disabled}\n            key={path}\n            onClick={onChange}\n            value={path}\n            className={isGroupItem ? \"px-4\" : undefined}\n            active={selectedKey == path}\n          >\n            {prefix+label}\n          </DropdownItem>\n        );\n      }\n    });\n\n  const hasValue = selectedKey != null;\n\n  const renderSelected = (allItems, selectedKey) => {\n    if (!readonly && !selectedKey) return placeholder;\n    \n    const _find = (subItems) => {\n      for (const k in subItems) {\n        const item = subItems[k];\n        if (item.path === selectedKey) {\n          return item;\n        }\n        if (item.items) {\n          const maybeFound = _find(item.items);\n          if (maybeFound) {\n            return maybeFound;\n          }\n        }\n      }\n    };\n    return _find(allItems)?.label || selectedKey;\n  };\n\n  return (\n    <Dropdown\n      isOpen={isOpen}\n      onClick={() => (!isOpen ? setIsOpen(true) : setIsOpen(false))}\n      disabled={readonly}\n      toggle={() => setIsOpen(!isOpen)}\n    >\n      <DropdownToggle\n        tag={\"button\"}\n        className={\"form-select\"}\n        style={stylesDropdownWrapper}\n        color={\"transparent\"}\n      >\n        {hasValue ? renderSelected(items, selectedKey) : <span>&nbsp;</span>}\n      </DropdownToggle>\n      <DropdownMenu \n        container=\"body\" \n        style={stylesDropdownMenuWrapper}\n      >\n        {!hasValue && <DropdownItem key={\"body\"} disabled value={\"\"}></DropdownItem>}\n        {renderOptions(items)}\n      </DropdownMenu>\n    </Dropdown>\n  );\n};\n","import React from \"react\";\nimport { Button } from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default ({ type, label, onClick, config }) => {\n  const hideLabelsFor = {\n    \"addRuleGroup\": true\n  };\n  const typeToIcon = {\n    delGroup: faTrashAlt,\n    delRuleGroup: faTrashAlt,\n    delRule: faTrashAlt,\n    addRuleGroup: faPlus,\n    addRuleGroupExt: faPlus,\n    addRule: faPlus,\n    addGroup: faPlus,\n  };\n  const typeToColor = {\n    addRule: \"primary\",\n    addGroup: \"primary\",\n    delGroup: \"danger\",\n    delRuleGroup: \"danger\",\n    delRule: \"danger\",\n  };\n\n  let isOnlyIcon = hideLabelsFor[type] || !label;\n\n  return (\n    <Button size=\"sm\" color={typeToColor[type]} onClick={onClick}>\n      <FontAwesomeIcon icon={typeToIcon[type]} /> {!isOnlyIcon && label}\n    </Button>\n  );\n};\n","import React from \"react\";\nimport { ButtonGroup } from \"reactstrap\";\n\nexport default ({children, config}) => {\n  return <ButtonGroup>{children}</ButtonGroup>;\n};\n","import React from \"react\";\nimport { Button, ButtonGroup } from \"reactstrap\";\n\nexport default ({\n  id,\n  not,\n  setNot,\n  conjunctionOptions,\n  setConjunction,\n  disabled,\n  readonly,\n  config,\n  showNot,\n  notLabel,\n}) => {\n  \n  const conjsCount = Object.keys(conjunctionOptions).length;\n  const lessThenTwo = disabled;\n  const { forceShowConj } = config.settings;\n  const showConj = forceShowConj || (conjsCount > 1 && !lessThenTwo);\n\n  const renderOptions = () =>\n    Object.keys(conjunctionOptions).map((key) => {\n      const { id, name, label, checked } = conjunctionOptions[key];\n      let postfix = setConjunction.isDummyFn ? \"__dummy\" : \"\";\n      if ((readonly || disabled) && !checked) return null;\n      return (\n        <Button\n          key={id + postfix}\n          id={id + postfix}\n          size=\"sm\"\n          color={checked ? \"primary\" : \"secondary\"}\n          value={key}\n          onClick={onClick.bind(null, key)}\n          disabled={readonly || disabled}\n        >\n          {label}\n        </Button>\n      );\n    });\n\n  const renderNot = () => {\n    if (readonly && !not) return null;\n    return (\n      <Button\n        key={id}\n        id={id + \"__not\"}\n        size=\"sm\"\n        color={not ? \"danger\" : \"secondary\"}\n        onClick={onNotClick.bind(null, !not)}\n        disabled={readonly}\n      >\n        {notLabel || \"NOT\"}\n      </Button>\n    );\n  };\n\n  const onClick = (value) => setConjunction(value);\n  const onNotClick = (checked) => setNot(checked);\n\n  return (\n    <ButtonGroup size=\"sm\" disabled={readonly}>\n      {showNot && renderNot()}\n      {showConj && renderOptions()}\n    </ButtonGroup>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  Dropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEllipsisV } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default ({config, valueSources, valueSrc, title, setValueSrc, readonly}) => {\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const stylesDropdownWrapper = {\n    lineHeight: \"105%\",\n    minHeight: \"1.7rem\",\n    paddingBottom: \"0.45rem\"\n  };\n\n  const stylesDropdownMenuWrapper = {\n    //minWidth: \"100%\"\n  };\n\n  const onChange = e => {\n    if (e.target.value === undefined)\n      return;\n    setValueSrc(e.target.value);\n  };\n\n  const getValueSrcLabel = (valueSrc) => {\n    const valueSrcInfo = valueSources\n      .filter(([srcKey, _info]) => srcKey == valueSrc)\n      .map(([_srcKey, info]) => info)\n      .shift();\n    return valueSrcInfo?.label || valueSrc;\n  };\n\n  const renderOptions = (valueSources) =>\n    valueSources.map(([srcKey, info]) => (\n      <DropdownItem\n        key={srcKey}\n        onClick={onChange}\n        value={srcKey}\n        active={valueSrc == srcKey}\n      >\n        {info.label || srcKey}\n      </DropdownItem>\n    ));\n\n  return (\n    <Dropdown\n      isOpen={isOpen}\n      onClick={() => (!isOpen ? setIsOpen(true) : setIsOpen(false))}\n      disabled={readonly}\n      toggle={() => setIsOpen(!isOpen)}\n    >\n      <DropdownToggle\n        tag={\"span\"}\n        className={\"btn\"}\n        style={stylesDropdownWrapper}\n        color={\"transparent\"}\n      >\n        {/*valueSrc ? getValueSrcLabel(valueSrc) : <span>&nbsp;</span>*/}\n        <FontAwesomeIcon icon={faEllipsisV} />\n      </DropdownToggle>\n      <DropdownMenu\n        container=\"body\"\n        style={stylesDropdownMenuWrapper}\n      >\n        {renderOptions(valueSources)}\n      </DropdownMenu>\n    </Dropdown>\n  );\n};","export default ({onOk, okText, cancelText, title}) => {\n  if (confirm(title)) {\n    onOk();\n  }\n};\n","import React from \"react\";\nimport BootstrapWidgets from \"../widgets\";\nimport { BasicConfig } from \"@react-awesome-query-builder/ui\";\n\n\nconst settings = {\n  ...BasicConfig.settings,\n\n  renderField: (props, {RCE, W: {BootstrapFieldSelect}}) => RCE(BootstrapFieldSelect, props),\n  renderOperator: (props, {RCE, W: {BootstrapFieldSelect}}) => RCE(BootstrapFieldSelect, props),\n  renderFunc: (props, {RCE, W: {BootstrapFieldSelect}}) => RCE(BootstrapFieldSelect, props),\n  renderConjs: (props, {RCE, W: {BootstrapConjs}}) => RCE(BootstrapConjs, props),\n  renderButton: (props, {RCE, W: {BootstrapButton}}) => RCE(BootstrapButton, props),\n  renderButtonGroup: (props, {RCE, W: {BootstrapButtonGroup}}) => RCE(BootstrapButtonGroup, props),\n  renderValueSources: (props, {RCE, W: {BootstrapValueSources}}) => RCE(BootstrapValueSources, props),\n  renderProvider: (props, {RCE, W: {BootstrapProvider}}) => RCE(BootstrapProvider, props),\n  renderConfirm: (props, {W: {BootstrapConfirm}}) => BootstrapConfirm(props),\n};\n\n\nconst widgets = {\n  ...BasicConfig.widgets,\n  text: {\n    ...BasicConfig.widgets.text,\n    factory: (props, {RCE, W: {BootstrapTextWidget}}) => RCE(BootstrapTextWidget, props),\n  },\n  textarea: {\n    ...BasicConfig.widgets.textarea,\n    factory: (props, {RCE, W: {BootstrapTextAreaWidget}}) => RCE(BootstrapTextAreaWidget, props),\n  },\n  number: {\n    ...BasicConfig.widgets.number,\n    factory: (props, {RCE, W: {BootstrapNumberWidget}}) => RCE(BootstrapNumberWidget, props),\n  },\n  multiselect: {\n    ...BasicConfig.widgets.multiselect,\n    factory: (props, {RCE, W: {BootstrapMultiSelectWidget}}) => RCE(BootstrapMultiSelectWidget, props),\n  },\n  select: {\n    ...BasicConfig.widgets.select,\n    factory: (props, {RCE, W: {BootstrapSelectWidget}}) => RCE(BootstrapSelectWidget, props),\n  },\n  slider: {\n    ...BasicConfig.widgets.slider,\n    factory: (props, {RCE, W: {BootstrapSliderWidget}}) => RCE(BootstrapSliderWidget, props),\n  },\n  boolean: {\n    ...BasicConfig.widgets.boolean,\n    factory: (props, {RCE, W: {BootstrapBooleanWidget}}) => RCE(BootstrapBooleanWidget, props),\n  },\n  date: {\n    ...BasicConfig.widgets.date,\n    factory: (props, {RCE, W: {BootstrapDateWidget}}) => RCE(BootstrapDateWidget, props),\n  },\n  time: {\n    ...BasicConfig.widgets.time,\n    factory: (props, {RCE, W: {BootstrapTimeWidget}}) => RCE(BootstrapTimeWidget, props),\n  },\n  datetime: {\n    ...BasicConfig.widgets.datetime,\n    factory: (props, {RCE, W: {BootstrapDateTimeWidget}}) => RCE(BootstrapDateTimeWidget, props),\n  },\n};\n\n\nconst types = {\n  ...BasicConfig.types,\n};\n\nconst ctx = {\n  ...BasicConfig.ctx,\n  W: {\n    ...BasicConfig.ctx.W,\n    ...BootstrapWidgets,\n  },\n};\n\nlet config = {\n  ...BasicConfig,\n  ctx,\n  types,\n  widgets,\n  settings,\n};\nexport default config;\n","import React from \"react\";\nimport { DatePicker } from \"@fluentui/react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { moment } = Utils;\n\nexport default (props) => {\n  const {\n    value,\n    setValue,\n    config,\n    valueFormat,\n    dateFormat,\n    readonly,\n    customProps,\n    placeholder,\n  } = props;\n\n  const onChange = (date) => {\n    if (date == \"\" ) date = undefined;\n    var dateValue=moment(new Date(date)).format(valueFormat);\n    setValue(dateValue); \n  };\n\n  const stylesDatePicker = {\n    // width: \"auto\", \n    marginRight: \"0.25rem\", \n    width: \"150px\"\n  };\n  return (\n    <DatePicker\n      disabled={readonly}\n      selectedDate={value}\n      onSelectDate={onChange}\n      style={stylesDatePicker}\n      placeholder={placeholder}\n      {...customProps}\n    />\n  );\n};\n","import React, { useState } from \"react\";\nimport { DatePicker, TimePicker } from \"@fluentui/react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { moment } = Utils;\n\nexport default (props) => {\n  const {\n    value,\n    setValue,\n    config,\n    valueFormat,\n    use12Hours,\n    readonly,\n    customProps,\n  } = props;\n\n  var [time, setTime] = useState(moment(value).format(\"HH:mm:ss\"));\n  var [date, setDate] = useState(moment(value).format(\"YYYY-MM-DD\"));\n\n  const onDateChange = (date) => {\n    if (date){\n      var dateValue=moment(new Date(date)).format(\"YYYY-MM-DD\");\n      var val = moment(new Date(dateValue +\" \"+ time)).format(valueFormat);\n      setDate(dateValue);\n      setValue(val);\n    }\n  };\n\n  const onTimeChange = (e, time) => {\n    if (time){\n      var timeValue=moment(time).format(\"HH:mm:ss\");\n      var val = moment(new Date(date+ \" \"+timeValue)).format(valueFormat); \n      setTime(timeValue); \n      setValue(val);\n    }\n  };\n\n  const stylesTimePicker = {\n    marginRight: \"5px\"\n  };\n\n  const stylesDatePicker = {\n    width: \"150px\"\n  };\n\n  return (\n    <div style={{display: \"flex\", flexDirection: \"row\"}}>\n      <DatePicker \n        disabled={readonly} \n        selectedDate={date} \n        onSelectDate={onDateChange} \n        style={stylesDatePicker}\n      />\n      <TimePicker\n        useHour12={use12Hours}\n        showSeconds={true}\n        disabled={readonly}\n        onChange={onTimeChange}\n        useComboBoxAsMenuWidth\n        style={stylesTimePicker}\n      />\n    </div>\n  );\n};\n","import React from \"react\";\nimport { TimePicker } from \"@fluentui/react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { moment } = Utils;\n\nexport default (props) => {\n  const {\n    value,\n    setValue,\n    config,\n    valueFormat,\n    use12Hours,\n    readonly,\n    customProps,\n  } = props;\n\n  const formatSingleValue = ( value) => {\n    return value ? moment(value, valueFormat).format(valueFormat) : undefined;\n  };\n\n  const hasSeconds = valueFormat.indexOf(\":ss\") != -1;\n\n  const onChange = (e, value) => {\n    if (value == \"\") value = undefined;\n    setValue(formatSingleValue(value));\n  };\n\n  const timeValue = value ? moment(value, valueFormat) : null;\n\n  const stylesOptionsContainer = {\n    optionsContainerWrapper: {\n      height: \"500px\",\n    }\n  };\n  return (\n    <TimePicker\n      styles={stylesOptionsContainer}\n      useHour12={use12Hours}\n      onChange={onChange}\n      disabled={readonly}\n      allowFreeform={true}\n      showSeconds={hasSeconds}\n      value={value}\n      useComboBoxAsMenuWidth\n      {...customProps}\n    />\n  );\n};\n","import React from \"react\";\nimport { Dropdown } from \"@fluentui/react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { mapListValues } = Utils.ListUtils;\n\nexport default ({\n  listValues,\n  value,\n  setValue,\n  allowCustomValues,\n  readonly,\n  customProps,\n  placeholder,\n}) => {\n  var onChange = function onChange(_, option) {\n    if (option.key === undefined) return;\n    setValue(option.key.toString());\n  };\n\n  var renderOptions = function renderOptions(fields) {\n    var options = [];\n    mapListValues(listValues, ({ title, value }) => {\n      options.push({\n        key: value,\n        text: title,\n      });\n    });\n    return options;\n  };\n\n  return (\n    <Dropdown\n      placeholder={placeholder}\n      options={renderOptions(listValues)}\n      selectedKey={value}\n      onChange={onChange}\n      dropdownWidth={\"auto\"}\n      disabled={readonly}\n      {...customProps}\n    />\n  );\n};\n","import React, { useState } from \"react\";\nimport { Dropdown } from \"@fluentui/react\";\nimport { Utils } from \"@react-awesome-query-builder/ui\";\nconst { mapListValues } = Utils.ListUtils;\n\nexport default ({\n  listValues,\n  value,\n  setValue,\n  allowCustomValues,\n  readonly,\n  customProps,\n  placeholder,\n}) => {\n  const [selectedKeys, setSelectedKeys] = useState(value ?? []);\n\n  const renderOptions = () =>\n    mapListValues(listValues, ({ title, value }) => {\n      return { key: value, text: title };\n    });\n\n  const onChange = (e, item) => {\n    if (item) {\n      setSelectedKeys(\n        item.selected\n          ? [...selectedKeys, item.key]\n          : selectedKeys.filter((key) => key !== item.key)\n      );\n      setValue(selectedKeys);\n    }\n  };\n\n  return (\n    <Dropdown\n      placeholder={placeholder || \"Select options\"}\n      selectedKeys={selectedKeys}\n      // eslint-disable-next-line react/jsx-no-bind\n      onChange={onChange}\n      multiSelect\n      options={renderOptions()}\n      disabled={readonly}\n    />\n  );\n};\n","import { initializeIcons } from \"@fluentui/font-icons-mdl2\";\ninitializeIcons();\n\n// value widgets\nimport FluentUITextWidget from \"./value/FluentUIText\";\nimport FluentUITextAreaWidget from \"./value/FluentUITextArea\";\nimport FluentUIDateWidget from \"./value/FluentUIDate\";\nimport FluentUIDateTimeWidget from \"./value/FluentUIDateTime\";\nimport FluentUITimeWidget from \"./value/FluentUITime\";\nimport FluentUISelectWidget from \"./value/FluentUISelect\";\nimport FluentUINumberWidget from \"./value/FluentUINumber\";\nimport FluentUISliderWidget from \"./value/FluentUISlider\";\nimport FluentUIBooleanWidget from \"./value/FluentUIBoolean\";\nimport FluentUIMultiSelectWidget from \"./value/FluentUIMultiSelect\";\n\n// field select widgets\nimport FluentUIFieldSelect from \"./core/FluentUIFieldSelect\";\n\n// core components\nimport FluentUIButton from \"./core/FluentUIButton\";\nimport FluentUIButtonGroup from \"./core/FluentUIButtonGroup\";\nimport FluentUIConjs from \"./core/FluentUIConjs\";\nimport FluentUIValueSources from \"./core/FluentUIValueSources\";\nimport FluentUIConfirm from \"./core/FluentUIConfirm\";\n\n// provider\nconst FluentUIProvider = ({config, children}) => children;\n\n\nexport default {\n  FluentUITextWidget,\n  FluentUITextAreaWidget,\n  FluentUIDateWidget,\n  FluentUIDateTimeWidget,\n  FluentUITimeWidget,\n  FluentUISelectWidget,\n  FluentUINumberWidget,\n  FluentUISliderWidget,\n  FluentUIBooleanWidget,\n  FluentUIMultiSelectWidget,\n\n  FluentUIFieldSelect,\n\n  FluentUIButton,\n  FluentUIButtonGroup,\n  FluentUIConjs,\n  FluentUIValueSources,\n  FluentUIConfirm,\n\n  FluentUIProvider,\n};\n","import React from \"react\";\nimport { TextField } from \"@fluentui/react\";\n\nconst FluentUIText = (props) => {\n  var value = props.value,\n    setValue = props.setValue,\n    readonly = props.readonly,\n    placeholder = props.placeholder,\n    maxLength = props.maxLength;\n\n  var onChange = function onChange(e, val) {\n    if (val === \"\") val = undefined; // don't allow empty value\n    setValue(val);\n  };\n  var textValue = value || \"\";\n\n  return (\n    <TextField\n      value={textValue}\n      placeholder={placeholder}\n      disabled={readonly}\n      onChange={onChange}\n      maxLength={maxLength}\n    />\n  );\n};\nexport default FluentUIText;\n","import React from \"react\";\nimport { TextField } from \"@fluentui/react\";\n\nexport default (props) => {\n  const {\n    value,\n    setValue,\n    config,\n    readonly,\n    placeholder,\n    maxLength,\n    maxRows,\n    fullWidth,\n    customProps,\n  } = props;\n  const onChange = (e) => {\n    let val = e.target.value;\n    if (val === \"\") val = undefined; // don't allow empty value\n    setValue(val);\n  };\n  const textValue = value || \"\";\n  return (\n    <TextField\n      readonly={readonly}\n      multiline\n      rows={maxRows}\n      maxLength={maxLength}\n      placeholder={placeholder}\n      value={textValue}\n      onChange={onChange}\n      {...customProps}\n    />\n  );\n};\n","import React from \"react\";\nimport { TextField } from \"@fluentui/react\";\n\nconst FluentUINumber = (props) => {\n  const { value, setValue, readonly, min, max, step, placeholder } = props;\n\n  const onChange = (e, val) => {\n    var newVal;\n    if (val === \"\" || val === null || val === undefined) {\n      newVal = undefined;\n    } else {\n      newVal = Number.isInteger(step) ? parseInt(val) : parseFloat(val);\n    }\n    setValue(newVal);\n  };\n\n  return (\n    <TextField\n      type=\"number\"\n      value={value}\n      placeholder={placeholder}\n      disabled={readonly}\n      min={min}\n      max={max}\n      step={step}\n      onChange={onChange}\n    />\n  );\n};\n\nexport default FluentUINumber;\n","import React from \"react\";\nimport { Slider, TextField } from \"@fluentui/react\";\n\nexport default (props) => {\n  const {\n    config,\n    placeholder,\n    customProps,\n    value,\n    setValue,\n    min,\n    max,\n    step,\n    marks,\n    readonly,\n  } = props;\n  const { defaultSliderWidth } = config.settings;\n\n  const {width, ...rest} =  customProps || {};\n  const customInputProps = rest.input || {};\n  const customSliderProps = rest.slider || rest;\n\n  const onSliderChange = (newValue) => {\n    if (newValue === \"\" || newValue === null)\n      newValue = undefined;\n    else\n      newValue = Number(newValue);\n    setValue(newValue);\n  };\n\n  const onInputChange = (e, newValue) => {\n    if (newValue === \"\" || newValue === null)\n      newValue = undefined;\n    else\n      newValue = Number(newValue);\n    setValue(newValue);\n  };\n\n  const InputCmp = (\n    <TextField\n      type=\"number\"\n      style={{ width: \"auto\" }}\n      value={value}\n      min={min}\n      max={max}\n      step={step}\n      placeholder={placeholder}\n      disabled={readonly}\n      onChange={onInputChange}\n      {...customInputProps}\n    />\n  );\n\n  const SliderCmp = (\n    <Slider\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      disabled={readonly}\n      marks={marks}\n      showValue={false}\n      onChange={onSliderChange}\n      {...customSliderProps}\n    />\n  );\n  const stylesWrapper = {\n    display: \"flex\", \n    flexDirection: \"row\" \n  };\n  const stylesSliderWrapper = {\n    width: width || defaultSliderWidth\n  };\n\n  return (\n    <div style={stylesWrapper}>\n      {InputCmp}\n      <div style={stylesSliderWrapper}>{SliderCmp}</div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Toggle } from \"@fluentui/react\";\n\nconst FluentUIBoolean = (props) => {\n  var value = props.value,\n    setValue = props.setValue,\n    labelYes = props.labelYes,\n    labelNo = props.labelNo,\n    readonly = props.readonly;\n\n  var onRadioChange = function onRadioChange() {\n    return setValue(!value);\n  };\n\n  var onText = typeof labelYes === \"string\" ? labelYes : \"Yes\";\n  var offText = typeof labelNo === \"string\" ? labelNo : \"No\";\n\n  return (\n    <Toggle\n      disabled={readonly}\n      onText={onText}\n      offText={offText}\n      onChange={onRadioChange}\n    />\n  );\n};\n\nexport default FluentUIBoolean;\n","import React from \"react\";\nimport { Dropdown, DropdownMenuItemType } from \"@fluentui/react\";\n\nconst FluentUIFieldSelect = (props) => {\n  var items = props.items,\n    setField = props.setField,\n    selectedKey = props.selectedKey,\n    placeholder = props.placeholder;\n\n  var onChange = function onChange(_, option) {\n    if (option.key === undefined) return;\n    setField(option.key.toString());\n  };\n\n  const onRenderTitle = function onRenderTitle(options) {\n    const option = options[0];\n    return (\n      <div>\n        <span>{option.title}</span>\n      </div>\n    );\n  };\n\n  var renderOptions = function renderOptions(fields, level = 0) {\n    var options = [];\n    var divKey = 0; \n    Object.keys(fields).map(function (fieldKey) {\n      var opt = {};\n      var field = fields[fieldKey];\n      const prefix = \"\\u00A0\\u00A0\".repeat(level);\n      var items = field.items,\n        path = field.path,\n        label = field.label,\n        disabled = field.disabled;\n      if (items) {\n        opt.key = path;\n        opt.title = label;\n        opt.text = prefix + label;\n        opt.itemType = DropdownMenuItemType.Header;\n        var itemOptions=renderOptions(items, level+1);\n        options.push(opt);\n        for (var i of itemOptions) {\n          options.push(i);\n        }\n        options.push({\n          key: \"divider_\"+divKey.toString(),\n          text: \"-\",\n          title: \"\",\n          itemType: DropdownMenuItemType.Divider\n        });\n        divKey +=1;\n      } else {\n        opt.key = path;\n        opt.title = label;\n        opt.text = prefix + label;\n        opt.disabled = disabled;\n        options.push(opt);\n      }\n    });\n    return options;\n  };\n\n  return (\n    <Dropdown\n      placeholder={placeholder}\n      options={renderOptions(items)}\n      selectedKey={selectedKey}\n      onChange={onChange}\n      onRenderTitle={onRenderTitle}\n      dropdownWidth={\"auto\"}\n    />\n  );\n};\n\nexport default FluentUIFieldSelect;\n","import React from \"react\";\nimport { IconButton, ActionButton, CommandBarButton } from \"@fluentui/react\";\n\nconst FluentUIButton = (props) => {\n  var type = props.type,\n    label = props.label,\n    onClick = props.onClick,\n    readonly = props.readonly;\n\n  const hideLabelsFor = {\n    \"addRuleGroup\": true,\n  };\n  var typeToIcon = {\n    addRuleGroup: \"CirclePlus\",\n  };\n  var typeToCommandIcon = {\n    addRuleGroupExt: \"Add\",\n    addRule: \"Add\",\n    addGroup: \"CirclePlus\",\n    delGroup: \"Delete\",\n    delRuleGroup: \"Delete\",\n    delRule: \"Delete\",\n  };\n\n  if (!label || hideLabelsFor[type]) {\n    return (\n      <IconButton\n        key={type}\n        onClick={onClick}\n        disabled={readonly}\n        iconProps={{ iconName: typeToIcon[type] || typeToCommandIcon[type]  }}\n        color=\"primary\"\n      />\n    );\n  } else if (typeToIcon[type]) {\n    return (\n      <ActionButton\n        key={type}\n        onClick={onClick}\n        iconProps={{ iconName: typeToIcon[type] }}\n        disabled={readonly}\n        text={label}\n      />\n    );\n  } else if (typeToCommandIcon[type]) {\n    return (\n      <CommandBarButton\n        key={type}\n        onClick={onClick}\n        iconProps={{ iconName: typeToCommandIcon[type] }}\n        disabled={readonly}\n        text={label}\n        color=\"primary\"\n        styles={{\n          root: {\n            backgroundColor: \"transparent\"\n          }\n        }}\n      />\n    );\n  }\n};\n\nexport default FluentUIButton;\n","import React from \"react\";\n\nexport default ({ children, config }) => {\n  return <>{children}</>;\n};\n","import React from \"react\";\nimport { DefaultButton } from \"@fluentui/react\";\n\nconst FluentUIConjs = (props) => {\n  var id = props.id,\n    not = props.not,\n    setNot = props.setNot,\n    conjunctionOptions = props.conjunctionOptions,\n    setConjunction = props.setConjunction,\n    disabled = props.disabled,\n    readonly = props.readonly,\n    config = props.config,\n    showNot = props.showNot,\n    notLabel = props.notLabel;\n\n  var conjsCount = Object.keys(conjunctionOptions).length;\n  var lessThenTwo = disabled;\n  var forceShowConj = config.settings.forceShowConj;\n  var showConj = forceShowConj || (conjsCount > 1 && !lessThenTwo);\n\n  const styleNot = {\n    backgroundColor: not ?  \"#fed9cc\" : \"#ffffff\"\n  };\n\n  var renderOptions = function renderOptions() {\n    return Object.keys(conjunctionOptions).map(function (key) {\n      var _conjunctionOptions$k = conjunctionOptions[key],\n        id = _conjunctionOptions$k.id,\n        name = _conjunctionOptions$k.name,\n        label = _conjunctionOptions$k.label,\n        checked = _conjunctionOptions$k.checked;\n      var postfix = setConjunction.isDummyFn ? \"__dummy\" : \"\";\n      if ((readonly || disabled) && !checked) return null;\n      return (\n        <DefaultButton\n          toggle={setConjunction}\n          checked={checked}\n          key={id + postfix}\n          id={id + postfix}\n          value={key}\n          onClick={onClick.bind(null, key)}\n          disabled={readonly || disabled}\n          text={label}\n        />\n      );\n    });\n  };\n\n  var renderNot = function renderNot() {\n    if (readonly && !not) return null;\n    return (\n      <DefaultButton\n        toggle={setNot}\n        checked={not}\n        key={id}\n        id={id + \"__not\"}\n        onClick={onNotClick.bind(null, !not)}\n        disabled={readonly}\n        text={notLabel || \"NOT\"}\n        style={styleNot}\n      />\n    );\n  };\n\n  var onClick = function onClick(value) {\n    return setConjunction(value);\n  };\n\n  var onNotClick = function onNotClick(not) {\n    return setNot(not);\n  };\n\n  return (\n    <React.Fragment>\n      {showNot && renderNot()}\n      {showConj && renderOptions()}\n    </React.Fragment>\n  );\n};\n\nexport default FluentUIConjs;\n","import { IconButton, DefaultButton } from \"@fluentui/react\";\nimport React from \"react\";\n\nexport default ({\n  config,\n  valueSources,\n  valueSrc,\n  title,\n  setValueSrc,\n  readonly,\n}) => {\n  const renderOptions = (valueSources) => {\n    var options = [];\n    valueSources.map(([srcKey, info]) =>\n      options.push({\n        key: srcKey,\n        text: info.label,\n        checked: valueSrc == srcKey || !valueSrc && srcKey == \"value\",\n        canCheck: true\n      })\n    );\n    return { onItemClick: onChange, items: options };\n  };\n\n  const onChange = (e, item) => {\n    if (!item?.key) return;\n    setValueSrc(item.key);\n  };\n\n  return (\n    <IconButton\n      menuProps={renderOptions(valueSources)}\n      text=\"here\"\n      title=\"ValueSource\"\n      onChange={onChange}\n      iconProps={{ iconName: \"ChevronRight\" }}\n      onRenderMenuIcon={() => <div />}\n    />\n  );\n};\n","export default ({ onOk, okText, cancelText, title }) => {\n  if (confirm(title)) {\n    onOk();\n  }\n};\n","import React from \"react\";\nimport FluentUIWidgets from \"../widgets\";\nimport { BasicConfig, Utils } from \"@react-awesome-query-builder/ui\";\n\n\nconst settings = {\n  ...BasicConfig.settings,\n\n  renderField: (props, {RCE, W: {FluentUIFieldSelect}}) => RCE(FluentUIFieldSelect, props),\n  renderOperator: (props, {RCE, W: {FluentUIFieldSelect}}) => RCE(FluentUIFieldSelect, props),\n  renderFunc: (props, {RCE, W: {FluentUIFieldSelect}}) => RCE(FluentUIFieldSelect, props),\n  renderConjs: (props, {RCE, W: {FluentUIConjs}}) => RCE(FluentUIConjs, props),\n  renderButton: (props, {RCE, W: {FluentUIButton}}) => RCE(FluentUIButton, props),\n  renderButtonGroup: (props, {RCE, W: {FluentUIButtonGroup}}) => RCE(FluentUIButtonGroup, props),\n  renderValueSources: (props, {RCE, W: {FluentUIValueSources}}) => RCE(FluentUIValueSources, props),\n  renderProvider: (props, {RCE, W: {FluentUIProvider}}) => RCE(FluentUIProvider, props),\n  renderConfirm: (props, {W: {FluentUIConfirm}}) => FluentUIConfirm(props),\n};\n\n\nconst widgets = {\n  ...BasicConfig.widgets,\n  text: {\n    ...BasicConfig.widgets.text,\n    factory: (props, {RCE, W: {FluentUITextWidget}}) => RCE(FluentUITextWidget, props),\n  },\n  textarea: {\n    ...BasicConfig.widgets.textarea,\n    factory: (props, {RCE, W: {FluentUITextAreaWidget}}) => RCE(FluentUITextAreaWidget, props),\n  },\n  number: {\n    ...BasicConfig.widgets.number,\n    factory: (props, {RCE, W: {FluentUINumberWidget}}) => RCE(FluentUINumberWidget, props),\n  },\n  multiselect: {\n    ...BasicConfig.widgets.multiselect,\n    factory: (props, {RCE, W: {FluentUIMultiSelectWidget}}) => RCE(FluentUIMultiSelectWidget, props),\n  },\n  select: {\n    ...BasicConfig.widgets.select,\n    factory: (props, {RCE, W: {FluentUISelectWidget}}) => RCE(FluentUISelectWidget, props),\n  },\n  slider: {\n    ...BasicConfig.widgets.slider,\n    factory: (props, {RCE, W: {FluentUISliderWidget}}) => RCE(FluentUISliderWidget, props),\n  },\n  boolean: {\n    ...BasicConfig.widgets.boolean,\n    factory: (props, {RCE, W: {FluentUIBooleanWidget}}) => RCE(FluentUIBooleanWidget, props),\n  },\n  date: {\n    ...BasicConfig.widgets.date,\n    factory: (props, {RCE, W: {FluentUIDateWidget}}) => RCE(FluentUIDateWidget, props),\n  },\n  time: {\n    ...BasicConfig.widgets.time,\n    factory: (props, {RCE, W: {FluentUITimeWidget}}) => RCE(FluentUITimeWidget, props),\n  },\n  datetime: {\n    ...BasicConfig.widgets.datetime,\n    factory: (props, {RCE, W: {FluentUIDateTimeWidget}}) => RCE(FluentUIDateTimeWidget, props),\n  },\n};\n\n\nconst types = {\n  ...BasicConfig.types,\n};\n\nconst ctx = {\n  ...BasicConfig.ctx,\n  W: {\n    ...BasicConfig.ctx.W,\n    ...FluentUIWidgets,\n  },\n};\n\n\nlet config = {\n  ...BasicConfig,\n  ctx,\n  types,\n  widgets,\n  settings,\n};\nexport default config;\n\n","import React, { Component } from \"react\";\nimport merge from \"lodash/merge\";\nimport {\n  BasicFuncs, Utils, BasicConfig,\n  // types:\n  Operators, Fields, Types, Conjunctions, LocaleSettings, OperatorProximity, Funcs, DateTimeWidget, FuncWidget, SelectWidget, \n  Settings,\n  DateTimeFieldSettings, TextFieldSettings, SelectFieldSettings, MultiSelectFieldSettings, NumberFieldSettings,\n  TextWidgetProps,\n  WidgetProps,\n  Widgets,\n  TextWidget,\n  TreeSelectWidget,\n  Config,\n} from \"@react-awesome-query-builder/ui\";\nimport moment from \"moment\";\nimport ru_RU from \"antd/es/locale/ru_RU\";\nimport { ruRU } from \"@material-ui/core/locale\";\nimport { ruRU as muiRuRU } from \"@mui/material/locale\";\n\nimport { AntdConfig, AntdWidgets } from \"@react-awesome-query-builder/antd\";\nimport { MuiConfig } from \"@react-awesome-query-builder/mui\";\nimport { MaterialConfig } from \"@react-awesome-query-builder/material\";\nimport { BootstrapConfig } from \"@react-awesome-query-builder/bootstrap\";\nimport { FluentUIConfig } from \"@react-awesome-query-builder/fluent\";\nconst {\n  FieldSelect,\n  FieldDropdown,\n  FieldCascader,\n  FieldTreeSelect,\n} = AntdWidgets;\nconst { simulateAsyncFetch } = Utils.Autocomplete;\n\nconst skinToConfig: Record<string, Config> = {\n  vanilla: BasicConfig,\n  antd: AntdConfig,\n  material: MaterialConfig,\n  mui: MuiConfig,\n  bootstrap: BootstrapConfig,\n  fluent: FluentUIConfig\n};\n\nexport default (skin: string) => {\n  const InitialConfig = skinToConfig[skin] as BasicConfig;\n\n  const demoListValues = [\n    { title: \"A\", value: \"a\" },\n    { title: \"AA\", value: \"aa\" },\n    { title: \"AAA1\", value: \"aaa1\" },\n    { title: \"AAA2\", value: \"aaa2\" },\n    { title: \"B\", value: \"b\" },\n    { title: \"C\", value: \"c\" },\n    { title: \"D\", value: \"d\" },\n    { title: \"E\", value: \"e\" },\n    { title: \"F\", value: \"f\" },\n    { title: \"G\", value: \"g\" },\n    { title: \"H\", value: \"h\" },\n    { title: \"I\", value: \"i\" },\n    { title: \"J\", value: \"j\" },\n  ];\n  const simulatedAsyncFetch = simulateAsyncFetch(demoListValues, 3);\n\n  const conjunctions: Conjunctions = {\n    ...InitialConfig.conjunctions,\n  };\n\n  const proximity: OperatorProximity = {\n    ...InitialConfig.operators.proximity,\n    valueLabels: [\n      { label: \"Word 1\", placeholder: \"Enter first word\" },\n      { label: \"Word 2\", placeholder: \"Enter second word\" },\n    ],\n    textSeparators: [\n      //'Word 1',\n      //'Word 2'\n    ],\n    options: {\n      ...InitialConfig.operators.proximity.options,\n      optionLabel: \"Near\", // label on top of \"near\" selectbox (for config.settings.showLabels==true)\n      optionTextBefore: \"Near\", // label before \"near\" selectbox (for config.settings.showLabels==false)\n      optionPlaceholder: \"Select words between\", // placeholder for \"near\" selectbox\n      minProximity: 2,\n      maxProximity: 10,\n      defaults: {\n        proximity: 2\n      },\n      customProps: {}\n    }\n  };\n\n  const operators: Operators = {\n    ...InitialConfig.operators,\n    // examples of  overriding\n    proximity,\n    between: {\n      ...InitialConfig.operators.between,\n      valueLabels: [\n        \"Value from\",\n        \"Value to\"\n      ],\n      textSeparators: [\n        \"from\",\n        \"to\"\n      ],\n    },\n  };\n\n\n  const widgets: Widgets = {\n    ...InitialConfig.widgets,\n    // examples of overriding\n    text: {\n      ...InitialConfig.widgets.text\n    },\n    textarea: {\n      ...InitialConfig.widgets.textarea,\n      maxRows: 3\n    },\n    slider: {\n      ...InitialConfig.widgets.slider\n    },\n    rangeslider: {\n      ...InitialConfig.widgets.rangeslider\n    },\n    date: {\n      ...InitialConfig.widgets.date,\n      dateFormat: \"DD.MM.YYYY\",\n      valueFormat: \"YYYY-MM-DD\",\n    },\n    time: {\n      ...InitialConfig.widgets.time,\n      timeFormat: \"HH:mm\",\n      valueFormat: \"HH:mm:ss\",\n    },\n    datetime: {\n      ...InitialConfig.widgets.datetime,\n      timeFormat: \"HH:mm\",\n      dateFormat: \"DD.MM.YYYY\",\n      valueFormat: \"YYYY-MM-DD HH:mm:ss\",\n    },\n    func: {\n      ...InitialConfig.widgets.func,\n      customProps: {\n        showSearch: true\n      }\n    },\n    select: {\n      ...InitialConfig.widgets.select,\n    },\n    multiselect: {\n      ...InitialConfig.widgets.multiselect,\n      customProps: {\n        //showCheckboxes: false,\n        width: \"200px\",\n        input: {\n          width: \"100px\"\n        }\n      }\n    },\n    treeselect: {\n      ...InitialConfig.widgets.treeselect,\n      customProps: {\n        showSearch: true\n      }\n    },\n  };\n\n\n  const types: Types = {\n    ...InitialConfig.types,\n    // examples of  overriding\n    text: {\n      ...InitialConfig.types.text,\n      excludeOperators: [\"proximity\"],\n    },\n    boolean: merge({}, InitialConfig.types.boolean, {\n      widgets: {\n        boolean: {\n          widgetProps: {\n            hideOperator: true,\n            operatorInlineLabel: \"is\"\n          },\n          opProps: {\n            equal: {\n              label: \"is\"\n            },\n            not_equal: {\n              label: \"is not\"\n            }\n          }\n        },\n      },\n    }),\n  };\n\n\n  const localeSettings: LocaleSettings = {\n    locale: {\n      moment: \"ru\",\n      antd: ru_RU,\n      material: ruRU,\n      mui: muiRuRU\n    },\n    valueLabel: \"Value\",\n    valuePlaceholder: \"Value\",\n    fieldLabel: \"Field\",\n    operatorLabel: \"Operator\",\n    funcLabel: \"Function\",\n    fieldPlaceholder: \"Select field\",\n    funcPlaceholder: \"Select function\",\n    operatorPlaceholder: \"Select operator\",\n    lockLabel: \"Lock\",\n    lockedLabel: \"Locked\",\n    deleteLabel: undefined,\n    addGroupLabel: \"Add group\",\n    addRuleLabel: \"Add rule\",\n    addSubRuleLabel: \"Add sub rule\",\n    delGroupLabel: undefined,\n    notLabel: \"Not\",\n    valueSourcesPopupTitle: \"Select value source\",\n    removeRuleConfirmOptions: {\n      title: \"Are you sure delete this rule?\",\n      okText: \"Yes\",\n      okType: \"danger\",\n      cancelText: \"Cancel\"\n    },\n    removeGroupConfirmOptions: {\n      title: \"Are you sure delete this group?\",\n      okText: \"Yes\",\n      okType: \"danger\",\n      cancelText: \"Cancel\"\n    },\n  };\n\n  const settings: Settings = {\n    ...InitialConfig.settings,\n    ...localeSettings,\n\n    defaultSliderWidth: \"200px\",\n    defaultSelectWidth: \"200px\",\n    defaultSearchWidth: \"100px\",\n    defaultMaxRows: 5,\n\n    valueSourcesInfo: {\n      value: {\n        label: \"Value\"\n      },\n      field: {\n        label: \"Field\",\n        widget: \"field\",\n      },\n      func: {\n        label: \"Function\",\n        widget: \"func\",\n      }\n    },\n    // canReorder: true,\n    // canRegroup: true,\n    // showLock: true,\n    // showNot: true,\n    // showLabels: true,\n    maxNesting: 5,\n    canLeaveEmptyGroup: true,\n    shouldCreateEmptyGroup: false,\n    showErrorMessage: true,\n    customFieldSelectProps: {\n      showSearch: true\n    },\n    // renderField: (props) => <FieldCascader {...props} />,\n    // renderOperator: (props) => <FieldDropdown {...props} />,\n    // renderFunc: (props) => <FieldSelect {...props} />,\n    // maxNumberOfRules: 10 // number of rules can be added to the query builder\n  };\n\n  //////////////////////////////////////////////////////////////////////\n\n  const fields: Fields = {\n    user: {\n      label: \"User\",\n      tooltip: \"Group of fields\",\n      type: \"!struct\",\n      subfields: {\n        firstName: {\n          label2: \"Username\", //only for menu's toggler\n          type: \"text\",\n          fieldSettings: {\n            validateValue: (val, fieldSettings) => {\n              return (val.length < 10);\n            },\n          } as TextFieldSettings,\n          mainWidgetProps: {\n            valueLabel: \"Name\",\n            valuePlaceholder: \"Enter name\",\n          },\n        },\n        login: {\n          type: \"text\",\n          tableName: \"t1\", // legacy: PR #18, PR #20\n          fieldSettings: {\n            validateValue: (val, fieldSettings) => {\n              return (val.length < 10 && (val === \"\" || val.match(/^[A-Za-z0-9_-]+$/) !== null));\n            },\n          } as TextFieldSettings,\n          mainWidgetProps: {\n            valueLabel: \"Login\",\n            valuePlaceholder: \"Enter login\",\n          },\n        }\n      }\n    },\n    bio: {\n      label: \"Bio\",\n      type: \"text\",\n      preferWidgets: [\"textarea\"],\n      fieldSettings: {\n        maxLength: 1000,\n      }\n    },\n    results: {\n      label: \"Results\",\n      type: \"!group\",\n      subfields: {\n        product: {\n          type: \"select\",\n          fieldSettings: {\n            listValues: [\"abc\", \"def\", \"xyz\"],\n          } as SelectFieldSettings,\n          valueSources: [\"value\"],\n        },\n        score: {\n          type: \"number\",\n          fieldSettings: {\n            min: 0,\n            max: 100,\n          },\n          valueSources: [\"value\"],\n        }\n      }\n    },\n    cars: {\n      label: \"Cars\",\n      type: \"!group\",\n      mode: \"array\",\n      conjunctions: [\"AND\", \"OR\"],\n      showNot: true,\n      operators: [\n        // w/ operand - count\n        \"equal\",\n        \"not_equal\",\n        \"less\",\n        \"less_or_equal\",\n        \"greater\",\n        \"greater_or_equal\",\n        \"between\",\n        \"not_between\",\n\n        // w/o operand\n        \"some\",\n        \"all\",\n        \"none\",\n      ],\n      defaultOperator: \"some\",\n      initialEmptyWhere: true, // if default operator is not in config.settings.groupOperators, true - to set no children, false - to add 1 empty\n\n      subfields: {\n        vendor: {\n          type: \"select\",\n          fieldSettings: {\n            listValues: [\"Ford\", \"Toyota\", \"Tesla\"],\n          } as MultiSelectFieldSettings,\n          valueSources: [\"value\"],\n        },\n        year: {\n          type: \"number\",\n          fieldSettings: {\n            min: 1990,\n            max: 2021,\n          },\n          valueSources: [\"value\"],\n        }\n      }\n    },\n    prox1: {\n      label: \"prox\",\n      tooltip: \"Proximity search\",\n      type: \"text\",\n      operators: [\"proximity\"],\n    },\n    num: {\n      label: \"Number\",\n      type: \"number\",\n      preferWidgets: [\"number\"],\n      fieldSettings: {\n        min: -1,\n        max: 5\n      },\n      funcs: [\"LINEAR_REGRESSION\"],\n    },\n    slider: {\n      label: \"Slider\",\n      type: \"number\",\n      preferWidgets: [\"slider\", \"rangeslider\"],\n      valueSources: [\"value\", \"field\"],\n      fieldSettings: {\n        min: 0,\n        max: 100,\n        step: 1,\n        marks: {\n          0: <strong>0%</strong>,\n          100: <strong>100%</strong>\n        },\n        validateValue: (val, fieldSettings) => {\n          return (val < 50 ? null : \"Invalid slider value, see validateValue()\");\n        },\n      } as NumberFieldSettings,\n      //overrides\n      widgets: {\n        slider: {\n          widgetProps: {\n            valuePlaceholder: \"..Slider\",\n          }\n        },\n        rangeslider: {\n          widgetProps: {\n            valueLabels: [\n              { label: \"Number from\", placeholder: \"from\" },\n              { label: \"Number to\", placeholder: \"to\" },\n            ],\n          }\n        },\n      },\n    },\n    date: {\n      label: \"Date\",\n      type: \"date\",\n      valueSources: [\"value\"],\n      fieldSettings: {\n        dateFormat: \"DD-MM-YYYY\",\n        validateValue: (val, fieldSettings: DateTimeFieldSettings) => {\n          // example of date validation\n          const dateVal = moment(val, fieldSettings.valueFormat);\n          return dateVal.year() != (new Date().getFullYear()) ? \"Please use current year\" : null;\n        },\n      } as DateTimeFieldSettings,\n    },\n    time: {\n      label: \"Time\",\n      type: \"time\",\n      valueSources: [\"value\"],\n      defaultOperator: \"between\",\n    },\n    datetime: {\n      label: \"DateTime\",\n      type: \"datetime\",\n      valueSources: [\"value\", \"func\"]\n    },\n    datetime2: {\n      label: \"DateTime2\",\n      type: \"datetime\",\n      valueSources: [\"field\"]\n    },\n    color: {\n      label: \"Color\",\n      type: \"select\",\n      valueSources: [\"value\"],\n      fieldSettings: {\n        showSearch: true,\n        // * old format:\n        // listValues: {\n        //     yellow: 'Yellow',\n        //     green: 'Green',\n        //     orange: 'Orange'\n        // },\n        // * new format:\n        listValues: [\n          { value: \"yellow\", title: \"Yellow\" },\n          { value: \"green\", title: \"Green\" },\n          { value: \"orange\", title: \"Orange\" }\n        ],\n      },\n    },\n    color2: {\n      label: \"Color2\",\n      type: \"select\",\n      fieldSettings: {\n        listValues: {\n          yellow: \"Yellow\",\n          green: \"Green\",\n          orange: \"Orange\",\n          purple: \"Purple\"\n        },\n      }\n    },\n    multicolor: {\n      label: \"Colors\",\n      type: \"multiselect\",\n      fieldSettings: {\n        showSearch: true,\n        listValues: {\n          yellow: \"Yellow\",\n          green: \"Green\",\n          orange: \"Orange\"\n        },\n        allowCustomValues: true,\n      }\n    },\n    selecttree: {\n      label: \"Color (tree)\",\n      type: \"treeselect\",\n      fieldSettings: {\n        treeExpandAll: true,\n        // * deep format (will be auto converted to flat format):\n        // treeValues: [\n        //     { value: \"1\", title: \"Warm colors\", children: [\n        //         { value: \"2\", title: \"Red\" },\n        //         { value: \"3\", title: \"Orange\" }\n        //     ] },\n        //     { value: \"4\", title: \"Cool colors\", children: [\n        //         { value: \"5\", title: \"Green\" },\n        //         { value: \"6\", title: \"Blue\", children: [\n        //             { value: \"7\", title: \"Sub blue\", children: [\n        //                 { value: \"8\", title: \"Sub sub blue and a long text\" }\n        //             ] }\n        //         ] }\n        //     ] }\n        // ],\n        // * flat format:\n        treeValues: [\n          { value: \"1\", title: \"Warm colors\" },\n          { value: \"2\", title: \"Red\", parent: \"1\" },\n          { value: \"3\", title: \"Orange\", parent: \"1\" },\n          { value: \"4\", title: \"Cool colors\" },\n          { value: \"5\", title: \"Green\", parent: \"4\" },\n          { value: \"6\", title: \"Blue\", parent: \"4\" },\n          { value: \"7\", title: \"Sub blue\", parent: \"6\" },\n          { value: \"8\", title: \"Sub sub blue and a long text\", parent: \"7\" },\n        ],\n      }\n    },\n    multiselecttree: {\n      label: \"Colors (tree)\",\n      type: \"treemultiselect\",\n      fieldSettings: {\n        treeExpandAll: true,\n        treeValues: [\n          {\n            value: \"1\", title: \"Warm colors\", children: [\n              { value: \"2\", title: \"Red\" },\n              { value: \"3\", title: \"Orange\" }\n            ]\n          },\n          {\n            value: \"4\", title: \"Cool colors\", children: [\n              { value: \"5\", title: \"Green\" },\n              {\n                value: \"6\", title: \"Blue\", children: [\n                  {\n                    value: \"7\", title: \"Sub blue\", children: [\n                      { value: \"8\", title: \"Sub sub blue and a long text\" }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    },\n    autocomplete: {\n      label: \"Autocomplete\",\n      type: \"select\",\n      valueSources: [\"value\"],\n      fieldSettings: {\n        asyncFetch: simulatedAsyncFetch,\n        useAsyncSearch: true,\n        useLoadMore: true,\n        forceAsyncSearch: false,\n        allowCustomValues: false\n      } as SelectFieldSettings,\n    },\n    autocompleteMultiple: {\n      label: \"AutocompleteMultiple\",\n      type: \"multiselect\",\n      valueSources: [\"value\"],\n      fieldSettings: {\n        asyncFetch: simulatedAsyncFetch,\n        useAsyncSearch: true,\n        useLoadMore: true,\n        forceAsyncSearch: false,\n        allowCustomValues: false\n      } as SelectFieldSettings,\n    },\n    stock: {\n      label: \"In stock\",\n      type: \"boolean\",\n      defaultValue: true,\n      mainWidgetProps: {\n        labelYes: \"+\",\n        labelNo: \"-\"\n      }\n    },\n  };\n\n  //////////////////////////////////////////////////////////////////////\n\n  const funcs: Funcs = {\n    ...BasicFuncs\n  };\n\n  const ctx = InitialConfig.ctx;\n\n  const config: Config = {\n    ctx,\n    conjunctions,\n    operators,\n    widgets,\n    types,\n    settings,\n    fields,\n    funcs,\n  };\n\n  return config;\n};\n","export default \n{\n  \"type\": \"group\",\n  \"id\": \"9a99988a-0123-4456-b89a-b1607f326fd8\",\n  \"children1\": {\n    \"a98ab9b9-cdef-4012-b456-71607f326fd9\": {\n      \"type\": \"rule\",\n      \"properties\": {\n        \"field\": \"user.login\",\n        \"operator\": \"equal\",\n        \"value\": [\n          {\n            \"func\": \"LOWER\",\n            \"args\": {\n              \"str\": {\n                \"valueSrc\": \"field\",\n                \"value\": \"user.firstName\"\n              }\n            }\n          }\n        ],\n        \"valueSrc\": [\n          \"func\"\n        ],\n        \"valueType\": [\n          \"text\"\n        ],\n        \"valueError\": [\n          null\n        ]\n      }\n    },\n    \"98a8a9ba-0123-4456-b89a-b16e721c8cd0\": {\n      \"type\": \"rule\",\n      \"properties\": {\n        \"field\": \"stock\",\n        \"operator\": \"equal\",\n        \"value\": [\n          false\n        ],\n        \"valueSrc\": [\n          \"value\"\n        ],\n        \"valueType\": [\n          \"boolean\"\n        ],\n        \"valueError\": [\n          null\n        ]\n      }\n    },\n    \"aabbab8a-cdef-4012-b456-716e85c65e9c\": {\n      \"type\": \"rule\",\n      \"properties\": {\n        \"field\": \"slider\",\n        \"operator\": \"equal\",\n        \"value\": [\n          35\n        ],\n        \"valueSrc\": [\n          \"value\"\n        ],\n        \"valueType\": [\n          \"number\"\n        ],\n        \"valueError\": [\n          null\n        ]\n      }\n    },\n    \"aaab8999-cdef-4012-b456-71702cd50090\": {\n      \"type\": \"rule_group\",\n      \"properties\": {\n        \"conjunction\": \"AND\",\n        \"field\": \"results\"\n      },\n      \"children1\": {\n        \"99b8a8a8-89ab-4cde-b012-31702cd5078b\": {\n          \"type\": \"rule\",\n          \"properties\": {\n            \"field\": \"results.product\",\n            \"operator\": \"select_equals\",\n            \"value\": [\n              \"abc\"\n            ],\n            \"valueSrc\": [\n              \"value\"\n            ],\n            \"valueType\": [\n              \"select\"\n            ],\n            \"valueError\": [\n              null\n            ]\n          }\n        },\n        \"88b9bb89-4567-489a-bcde-f1702cd53266\": {\n          \"type\": \"rule\",\n          \"properties\": {\n            \"field\": \"results.score\",\n            \"operator\": \"greater\",\n            \"value\": [\n              8\n            ],\n            \"valueSrc\": [\n              \"value\"\n            ],\n            \"valueType\": [\n              \"number\"\n            ],\n            \"valueError\": [\n              null\n            ]\n          }\n        }\n      }\n    },\n    \"a99a9b9b-cdef-4012-b456-7175a7d54553\": {\n      \"type\": \"rule_group\",\n      \"properties\": {\n        \"mode\": \"array\",\n        \"operator\": \"greater\",\n        \"valueType\": [\n          \"number\"\n        ],\n        \"value\": [\n          2\n        ],\n        \"valueSrc\": [\n          \"value\"\n        ],\n        \"conjunction\": \"AND\",\n        \"valueError\": [\n          null\n        ],\n        \"field\": \"cars\"\n      },\n      \"children1\": {\n        \"99a9a9a8-89ab-4cde-b012-3175a7d55374\": {\n          \"type\": \"rule\",\n          \"properties\": {\n            \"field\": \"cars.vendor\",\n            \"operator\": \"select_equals\",\n            \"value\": [\n              \"Toyota\"\n            ],\n            \"valueSrc\": [\n              \"value\"\n            ],\n            \"valueError\": [\n              null\n            ],\n            \"valueType\": [\n              \"select\"\n            ]\n          }\n        },\n        \"988bbbab-4567-489a-bcde-f175a7d58793\": {\n          \"type\": \"rule\",\n          \"properties\": {\n            \"field\": \"cars.year\",\n            \"operator\": \"greater_or_equal\",\n            \"value\": [\n              2010\n            ],\n            \"valueSrc\": [\n              \"value\"\n            ],\n            \"valueError\": [\n              null\n            ],\n            \"valueType\": [\n              \"number\"\n            ]\n          }\n        }\n      }\n    }\n  },\n  \"properties\": {\n    \"conjunction\": \"AND\",\n    \"not\": false\n  }\n};","export default \n{\n  \"and\": [\n    {\n      \"==\": [\n        {\n          \"var\": \"user.login\"\n        },\n        {\n          \"toLowerCase\": [\n            {\n              \"var\": \"user.firstName\"\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"==\": [\n        {\n          \"var\": \"stock\"\n        },\n        false\n      ]\n    },\n    {\n      \"==\": [\n        {\n          \"var\": \"slider\"\n        },\n        35\n      ]\n    },\n    {\n      \"some\": [\n        {\n          \"var\": \"results\"\n        },\n        {\n          \"and\": [\n            {\n              \"==\": [\n                {\n                  \"var\": \"product\"\n                },\n                \"abc\"\n              ]\n            },\n            {\n              \">\": [\n                {\n                  \"var\": \"score\"\n                },\n                8\n              ]\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \">\": [\n        {\n          \"reduce\": [\n            {\n              \"filter\": [\n                {\n                  \"var\": \"cars\"\n                },\n                {\n                  \"and\": [\n                    {\n                      \"==\": [\n                        {\n                          \"var\": \"vendor\"\n                        },\n                        \"Toyota\"\n                      ]\n                    },\n                    {\n                      \">=\": [\n                        {\n                          \"var\": \"year\"\n                        },\n                        2010\n                      ]\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              \"+\": [\n                1,\n                {\n                  \"var\": \"accumulator\"\n                }\n              ]\n            },\n            0\n          ]\n        },\n        2\n      ]\n    }\n  ]\n};","import React, { useEffect, useState, useCallback, useRef } from \"react\";\nimport {\n  Query, Builder, Utils, \n  //types:\n  BuilderProps, ImmutableTree, Config, JsonTree, JsonLogicTree, ActionMeta, Actions\n} from \"@react-awesome-query-builder/ui\";\nimport ImportSkinStyles from \"../skins\";\nimport throttle from \"lodash/throttle\";\nimport loadConfig from \"./config\";\nimport loadedInitValue from \"./init_value\";\nimport loadedInitLogic from \"./init_logic\";\nimport Immutable from \"immutable\";\nimport clone from \"clone\";\n\nconst stringify = JSON.stringify;\nconst {elasticSearchFormat, queryBuilderFormat, jsonLogicFormat, queryString, _mongodbFormat, _sqlFormat, _spelFormat, getTree, checkTree, loadTree, uuid, loadFromJsonLogic, loadFromSpel, isValidTree} = Utils;\nconst preStyle = { backgroundColor: \"darkgrey\", margin: \"10px\", padding: \"10px\" };\nconst preErrorStyle = { backgroundColor: \"lightpink\", margin: \"10px\", padding: \"10px\" };\n\nconst initialSkin = window._initialSkin || \"mui\";\nconst emptyInitValue: JsonTree = {id: uuid(), type: \"group\"};\nconst loadedConfig = loadConfig(initialSkin);\nlet initValue: JsonTree = loadedInitValue && Object.keys(loadedInitValue).length > 0 ? loadedInitValue as JsonTree : emptyInitValue;\nconst initLogic: JsonLogicTree | undefined = loadedInitLogic && Object.keys(loadedInitLogic).length > 0 ? loadedInitLogic as JsonLogicTree : undefined;\nlet initTree: ImmutableTree;\n//initTree = checkTree(loadTree(initValue), loadedConfig);\ninitTree = checkTree(loadFromJsonLogic(initLogic, loadedConfig)!, loadedConfig); // <- this will work same  \n\n\n// Trick to hot-load new config when you edit `config.tsx`\nconst updateEvent = new CustomEvent<CustomEventDetail>(\"update\", { detail: {\n  config: loadedConfig,\n  _initTree: initTree,\n  _initValue: initValue,\n} });\nwindow.dispatchEvent(updateEvent);\n\ndeclare global {\n  interface Window {\n    _initialSkin: string;\n  }\n}\n\ninterface CustomEventDetail {\n  config: Config;\n  _initTree: ImmutableTree;\n  _initValue: JsonTree;\n}\n\ninterface DemoQueryBuilderState {\n  tree: ImmutableTree;\n  config: Config;\n  skin: string,\n  spelStr: string;\n  spelErrors: Array<string>;\n}\n\ntype ImmOMap = Immutable.OrderedMap<string, any>;\n\ninterface DemoQueryBuilderMemo {\n  immutableTree?: ImmutableTree,\n  config?: Config,\n  _actions?: Actions,\n}\n\nconst DemoQueryBuilder: React.FC = () => {\n  const memo: React.MutableRefObject<DemoQueryBuilderMemo> = useRef({});\n\n  const [state, setState] = useState<DemoQueryBuilderState>({\n    tree: initTree, \n    config: loadedConfig,\n    skin: initialSkin,\n    spelStr: \"\",\n    spelErrors: [] as Array<string>\n  });\n\n  useEffect(() => {\n    window.addEventListener(\"update\", onConfigChanged);\n    return () => {\n      window.removeEventListener(\"update\", onConfigChanged);\n    };\n  });\n\n\n  const onConfigChanged = (e: Event) => {\n    const {detail: {config, _initTree, _initValue}} = e as CustomEvent<CustomEventDetail>;\n    console.log(\"Updating config...\");\n    setState({\n      ...state,\n      config,\n    });\n    initTree = _initTree;\n    initValue = _initValue;\n  };\n\n  const switchShowLock = () => {\n    const newConfig: Config = clone(state.config);\n    newConfig.settings.showLock = !newConfig.settings.showLock;\n    setState({...state, config: newConfig});\n  };\n\n  const resetValue = () => {\n    setState({\n      ...state,\n      tree: initTree, \n    });\n  };\n\n  const validate = () => {\n    setState({\n      ...state,\n      tree: checkTree(state.tree, state.config)\n    });\n  };\n\n  const onChangeSpelStr = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const spelStr = e.target.value;\n    setState({\n      ...state,\n      spelStr\n    });\n  };\n\n  const importFromSpel = () => {\n    const [tree, spelErrors] = loadFromSpel(state.spelStr, state.config);\n    setState({\n      ...state, \n      tree: tree ? checkTree(tree, state.config) : state.tree,\n      spelErrors\n    });\n  };\n\n  const changeSkin = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const skin = e.target.value;\n    const config = loadConfig(e.target.value);\n    setState({\n      ...state,\n      skin,\n      config,\n      tree: checkTree(state.tree, config)\n    });\n    window._initialSkin = skin;\n  };\n\n  const clearValue = () => {\n    setState({\n      ...state,\n      tree: loadTree(emptyInitValue), \n    });\n  };\n\n  const renderBuilder = useCallback((bprops: BuilderProps) => {\n    memo.current._actions = bprops.actions;\n    return (\n      <div className=\"query-builder-container\" style={{padding: \"10px\"}}>\n        <div className=\"query-builder qb-lite\">\n          <Builder {...bprops} />\n        </div>\n      </div>\n    );\n  }, []);\n  \n  const onChange = useCallback((immutableTree: ImmutableTree, config: Config, actionMeta?: ActionMeta) => {\n    if (actionMeta)\n      console.info(actionMeta);\n    memo.current.immutableTree = immutableTree;\n    memo.current.config = config;\n    updateResult();\n  }, []);\n\n  const updateResult = throttle(() => {\n    setState(prevState => ({...prevState, tree: memo.current.immutableTree!, config: memo.current.config!}));\n  }, 100);\n\n  // Demonstrates how actions can be called programmatically\n  const runActions = () => {\n    const rootPath = [ state.tree.get(\"id\") as string ];\n    const isEmptyTree = !state.tree.get(\"children1\");\n    const firstPath = [\n      state.tree.get(\"id\"), \n      ((state.tree.get(\"children1\") as ImmOMap)?.first() as ImmOMap)?.get(\"id\")\n    ];\n    const lastPath = [\n      state.tree.get(\"id\"), \n      ((state.tree.get(\"children1\") as ImmOMap)?.last() as ImmOMap)?.get(\"id\")\n    ];\n\n    // Change root group to NOT OR\n    memo.current._actions!.setNot(rootPath, true);\n    memo.current._actions!.setConjunction(rootPath, \"OR\");\n\n    // Move first item\n    if (!isEmptyTree) {\n      memo.current._actions!.moveItem(firstPath, lastPath, \"before\");\n    }\n\n    // Remove last rule\n    if (!isEmptyTree) {\n      memo.current._actions!.removeRule(lastPath);\n    }\n\n    // Change first rule to `num between 2 and 4`\n    if (!isEmptyTree) {\n      memo.current._actions!.setField(firstPath, \"num\");\n      memo.current._actions!.setOperator(firstPath, \"between\");\n      memo.current._actions!.setValueSrc(firstPath, 0, \"value\");\n      memo.current._actions!.setValue(firstPath, 0, 2, \"number\");\n      memo.current._actions!.setValue(firstPath, 1, 4, \"number\");\n    }\n\n    // Add rule `login == \"denis\"`\n    memo.current._actions!.addRule(\n      rootPath,\n      {\n        field: \"user.login\",\n        operator: \"equal\",\n        value: [\"denis\"],\n        valueSrc: [\"value\"],\n        valueType: [\"text\"]\n      },\n    );\n\n    // Add rule `login == firstName`\n    memo.current._actions!.addRule(\n      rootPath,\n      {\n        field: \"user.login\",\n        operator: \"equal\",\n        value: [\"user.firstName\"],\n        valueSrc: [\"field\"]\n      },\n    );\n\n    // Add rule-group `cars` with `year == 2021`\n    memo.current._actions!.addRule(\n      rootPath,\n      {\n        field: \"cars\",\n        mode: \"array\",\n        operator: \"all\",\n      },\n      \"rule_group\",\n      [\n        {\n          type: \"rule\",\n          properties: {\n            field: \"cars.year\",\n            operator: \"equal\",\n            value: [2021]\n          }\n        }\n      ]\n    );\n\n    // Add group with `slider == 40` and subgroup `slider < 20`\n    memo.current._actions!.addGroup(\n      rootPath,\n      {\n        conjunction: \"AND\"\n      },\n      [\n        {\n          type: \"rule\",\n          properties: {\n            field: \"slider\",\n            operator: \"equal\",\n            value: [40]\n          }\n        },\n        {\n          type: \"group\",\n          properties: {\n            conjunction: \"AND\"\n          },\n          children1: [\n            {\n              type: \"rule\",\n              properties: {\n                field: \"slider\",\n                operator: \"less\",\n                value: [20]\n              }\n            },\n          ]\n        }\n      ]\n    );\n  };\n\n  const renderResult = ({tree: immutableTree, config} : {tree: ImmutableTree, config: Config}) => {\n    const isValid = isValidTree(immutableTree);\n    const treeJs = getTree(immutableTree);\n    const {logic, data: logicData, errors: logicErrors} = jsonLogicFormat(immutableTree, config);\n    const [spel, spelErrors] = _spelFormat(immutableTree, config);\n    const queryStr = queryString(immutableTree, config);\n    const humanQueryStr = queryString(immutableTree, config, true);\n    const [sql, sqlErrors] = _sqlFormat(immutableTree, config);\n    const [mongo, mongoErrors] = _mongodbFormat(immutableTree, config);\n    const elasticSearch = elasticSearchFormat(immutableTree, config);\n\n    return (\n      <div>\n        {isValid ? null : <pre style={preErrorStyle}>{\"Tree has errors\"}</pre>}\n        <br />\n        <div>\n        spelFormat: \n          { spelErrors.length > 0 \n            && <pre style={preErrorStyle}>\n              {stringify(spelErrors, undefined, 2)}\n            </pre> \n          }\n          <pre style={preStyle}>\n            {stringify(spel, undefined, 2)}\n          </pre>\n        </div>\n        <hr/>\n        <div>\n        stringFormat: \n          <pre style={preStyle}>\n            {stringify(queryStr, undefined, 2)}\n          </pre>\n        </div>\n        <hr/>\n        <div>\n        humanStringFormat: \n          <pre style={preStyle}>\n            {stringify(humanQueryStr, undefined, 2)}\n          </pre>\n        </div>\n        <hr/>\n        <div>\n        sqlFormat: \n          { sqlErrors.length > 0 \n            && <pre style={preErrorStyle}>\n              {stringify(sqlErrors, undefined, 2)}\n            </pre> \n          }\n          <pre style={preStyle}>\n            {stringify(sql, undefined, 2)}\n          </pre>\n        </div>\n        <hr/>\n        <div>\n          <a href=\"http://jsonlogic.com/play.html\" target=\"_blank\" rel=\"noopener noreferrer\">jsonLogicFormat</a>: \n          { (logicErrors?.length || 0) > 0 \n            && <pre style={preErrorStyle}>\n              {stringify(logicErrors, undefined, 2)}\n            </pre> \n          }\n          { !!logic\n            && <pre style={preStyle}>\n              {\"// Rule\"}:<br />\n              {stringify(logic, undefined, 2)}\n              <br />\n              <hr />\n              {\"// Data\"}:<br />\n              {stringify(logicData, undefined, 2)}\n            </pre>\n          }\n        </div>\n        <hr/>\n        <div>\n        mongodbFormat: \n          { mongoErrors.length > 0 \n            && <pre style={preErrorStyle}>\n              {stringify(mongoErrors, undefined, 2)}\n            </pre> \n          }\n          <pre style={preStyle}>\n            {stringify(mongo, undefined, 2)}\n          </pre>\n        </div>\n        <hr/>\n        <div>\n        elasticSearchFormat: \n          <pre style={preStyle}>\n            {stringify(elasticSearch, undefined, 2)}\n          </pre>\n        </div>\n        <hr/>\n        <div>\n        Tree: \n          <pre style={preStyle}>\n            {stringify(treeJs, undefined, 2)}\n          </pre>\n        </div>\n        {/* <hr/>\n      <div>\n        queryBuilderFormat: \n          <pre style={preStyle}>\n            {stringify(queryBuilderFormat(immutableTree, config), undefined, 2)}\n          </pre>\n      </div> */}\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <div>\n        <select value={state.skin} onChange={changeSkin}>\n          <option key=\"vanilla\">vanilla</option>\n          <option key=\"antd\">antd</option>\n          <option key=\"material\">material</option>\n          <option key=\"mui\">mui</option>\n          <option key=\"bootstrap\">bootstrap</option>\n          <option key=\"fluent\">fluent</option>\n        </select>\n        <button onClick={resetValue}>reset</button>\n        <button onClick={clearValue}>clear</button>\n        <button onClick={runActions}>run actions</button>\n        <button onClick={validate}>validate</button>\n        <button onClick={switchShowLock}>show lock: {state.config.settings.showLock ? \"on\" : \"off\"}</button>\n      </div>\n\n      <ImportSkinStyles skin={state.skin} />\n      \n      <Query\n        {...state.config}\n        value={state.tree}\n        onChange={onChange}\n        renderBuilder={renderBuilder}\n      />\n\n      <div className=\"query-import-spel\">\n        SpEL:\n        <input type=\"text\" size={150} value={state.spelStr} onChange={onChangeSpelStr} />\n        <button onClick={importFromSpel}>import</button>\n        <br />\n        { state.spelErrors.length > 0 \n            && <pre style={preErrorStyle}>\n              {stringify(state.spelErrors, undefined, 2)}\n            </pre> \n        }\n      </div>\n\n      <div className=\"query-builder-result\">\n        {renderResult(state)}\n      </div>\n    </div>\n  );\n};\n\n\nexport default DemoQueryBuilder;\n"],"names":["ImportUi","React","ImportAntd","skinToImport","vanilla","mui","antd","material","bootstrap","fluent","skin","Import","fallback","generatePicker","momentGenerateConfig","generateCalendar","TimePicker","props","ref","picker","mode","undefined","displayName","RangePicker","DatePicker","moment","Utils","DateWidget","isValidSingleValue","value","valueFormat","v","isValid","isValidValue","isSpecialRange","map","el","reduce","res","item","getMomentSingleValue","getMomentValue","formatSingleValue","format","formatValue","handleChange","setValue","this","placeholder","placeholders","customProps","dateFormat","config","readonly","renderSize","settings","dateValue","disabled","key","size","onChange","PureComponent","propTypes","PropTypes","field","defaultProps","DateTimeWidget","aValue","mValue","timeFormat","use12Hours","dateTimeFrmat","showTime","TimeWidget","set","second","millisecond","timeValue","SELECT_WIDTH_OFFSET_RIGHT","DEFAULT_FONT_SIZE","DEFAULT_FONT_FAMILY","BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","bottomRight","topLeft","topRight","calcTextWidth","str","fontFamily","fontSize","document","div","createElement","innerHTML","css","k","style","w","body","appendChild","offsetWidth","removeChild","useOnPropsChanged","mapListValues","Option","SelectWidget","val","filterOption","input","option","children","toLowerCase","indexOf","onPropsChanged","nextProps","listValues","optionsMaxWidth","title","Math","max","isNaN","options","placeholderWidth","dropdownWidth","width","customSelectProps","omit","dropdownMatchSelectWidth","Component","fieldDefinition","TextWidget","ev","target","maxLength","type","TextArea","TextAreaWidget","maxRows","fullWidth","defaultMaxRows","autoSize","minRows","NumberWidget","min","step","pureShouldComponentUpdate","SliderWidget","state","setState","internalValue","tipFormatter","toString","shouldComponentUpdate","nextState","should","cacheBusterProp","marks","valueError","showErrorMessage","defaultSliderWidth","rest","customInputProps","customSliderProps","slider","sliderValue","display","flexWrap","float","marginRight","tooltip","formatter","included","clear","RangeWidget","handleChangeFrom","valueFrom","handleChangeTo","valueTo","setTimeout","oneValue","textSeparators","lineHeight","range","BooleanWidget","labelYes","labelNo","checkedChildren","unCheckedChildren","checked","MultiSelectWidget","length","allowCustomValues","dropdownEmptyWidth","minWidth","dropdownStyle","useListValuesAutocomplete","Hooks","getItemInListValues","listValuesToArray","defaultTreeDataMap","id","pId","rootPId","getPathInListValues","tdm","it","parentId","parent","find","getChildrenInListValues","filter","getTitleInListValues","TreeSelectWidget","treeMultiple","filterTreeNode","treeValues","initialOffset","path","treeExpandAll","treeData","treeCheckStrictly","label","paddingRight","multiple","treeCheckable","treeDataSimpleMode","treeDefaultExpandAll","OptGroup","FieldSelect","setField","dataForFilter","join","items","selectedKey","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel","showSearch","selectWidth","isFieldSelected","dropdownPlacement","dropdownAlign","tooltipText","fieldSelectItems","renderSelectItems","optionLabelProp","fields","level","altLabel","fullLabel","grouplabel","groupPrefix","repeat","prefix","pathKey","simpleItems","complexItems","gr","list","flat","Infinity","selectedKeys","selectedPath","SubMenu","MenuItem","FieldDropdown","keyPath","renderMenuItems","togglerLabel","toggler","DownOutlined","placement","fieldMenuItems","fieldMenu","onClick","fieldToggler","renderMenuToggler","overlay","trigger","FieldCascader","keys","parentField","parentPath","split","inputValue","keysForFilter","some","selectedField","customProps2","fieldSeparator","isPrefix","i","part","slice","removePrefixPath","fieldNames","allowClear","FieldTreeSelect","getTreeData","fn","selectable","treeDefaultExpandedKeys","_key","ButtonGroup","ConjsButton","_e","setConjunction","ConjsButtons","setNot","e","not","conjunctionOptions","notLabel","showNot","conjsCount","Object","lessThenTwo","forceShowConj","showConj","_index","RadioButton","RadioGroup","ValueSources","setValueSrc","valueSources","valueSrc","content","srcKey","info","EllipsisOutlined","confirm","AutocompleteWidget","useAsyncSearch","debounceTimeout","uif","open","onDropdownVisibleChange","isSpecialValue","onSearch","isLoading","isInitialLoading","aPlaceholder","extendOptions","getOptionDisabled","getOptionIsCustom","getOptionLabel","onInputChange","filteredOptions","useMemo","defaultSelectWidth","defaultSearchWidth","isClearAllClicked","dynamicPlaceholder","renderedOptions","specialValue","className","specialOptions","padding","cursor","opt","aOnSelect","newValue","aOnChange","isAddFromSearch","shouldIgnore","current","aOnSearch","newInputValue","dropdownRender","useCallback","menu","margin","flexDirection","notFoundContent","onClear","onSelect","showArrow","loading","searchValue","Button","btnLabel","typeToIcon","PlusOutlined","PlusCircleOutlined","DeleteFilled","typeToClass","danger","icon","Conjs","Switch","checkedLabel","hideLabel","postfix","showLabel","LockFilled","UnlockOutlined","switchValue","Provider","locale","BasicConfig","renderField","RCE","W","renderOperator","renderFunc","renderConjs","renderSwitch","renderButton","renderButtonGroup","renderValueSources","renderProvider","renderConfirm","removeInvalidMultiSelectValuesOnLoad","normalizeListValues","args","utils","call","widgets","text","factory","textarea","number","multiselect","asyncFetch","select","boolean","date","time","datetime","rangeslider","treeselect","treemultiselect","types","ctx","fieldSettings","isTree","includes","isMulti","node","treeSelectOnlyLeafs","childrenValues","extendTreeData","rind","len","_flatize","root","lev","childrenCount","c","splice","Array","isArray","flatizeTreeData","AntdWidgets","defaultFilterOptions","createFilterOptions","emptyArray","selectedValue","groupBy","filterOptionsConfig","filterOptionsFn","onOpen","onClose","getOptionSelected","selectedListValue","customAutocompleteProps","FormControl","disableCloseOnSelect","freeSolo","readOnly","renderInput","params","shouldRenderSelected","selectedTitle","TextField","variant","inputProps","InputProps","endAdornment","CircularProgress","color","renderTags","getTagProps","index","Chip","renderOption","renderTitle","isHidden","isSelected","titleSpan","selected","ListItemText","inset","ListItemIcon","Check","filterOptions","filtered","isOptionEqualToValue","itemsToListValues","groupTitle","stringify","MuiTextWidget","textValue","MuiTextAreaWidget","multiline","MuiDateWidget","desktopModeMediaQuery","toolbarPlaceholder","inputFormat","MuiDateTimeWidget","dateTimeFormat","DateTimePicker","ampm","MuiTimeWidget","hasSeconds","views","MuiSelectWidget","hasValue","Select","autoWidth","displayEmpty","renderValue","shift","getListValueTitle","MuiNumberWidget","numberValue","Number","MuiSliderWidget","handleSliderChange","muiMarks","InputCmp","onBlur","SliderCmp","Slider","valueLabelDisplay","stylesSliderWrapper","marginLeft","paddingLeft","marginBottom","alignItems","MuiRangeWidget","useEffect","handleInputBlur","FromInputCmp","ToInputCmp","newValues","stylesInputWrapper","MuiBooleanWidget","Typography","component","Grid","container","spacing","MuiMultiSelectWidget","selectedValues","selectedTitles","Checkbox","primary","MuiAutocompleteWidget","MuiFieldSelect","findLabel","pop","renderOptions","fieldKey","ListSubheader","disableSticky","MuiFieldAutocomplete","MuiAutocomplete","_asyncValues","MuiButton","Delete","Add","typeToColor","IconButton","startIcon","MuiButtonGroup","MuiConjs","disableElevation","bind","name","isDummyFn","MuiSwitch","Lock","LockOpen","FormControlLabel","control","MuiValueSources","anchorEl","setAnchorEl","handleClose","Boolean","event","currentTarget","handleOpen","ExpandMoreSharp","Popover","anchorOrigin","vertical","horizontal","transformOrigin","sx","theme","disablePortal","p","FormLabel","Radio","MuiConfirm","onOk","okText","cancelText","confirmFn","description","confirmationText","cancellationText","then","MuiUseConfirm","useConfirm","MuiProvider","settingsTheme","settingsLocale","themeConfig","createTheme","palette","neutral","main","contrastText","base","withProviders","LocalizationProvider","dateAdapter","AdapterMoment","ThemeProvider","MuiWidgets","uuid","BootstrapTextWidget","bsSize","BootstrapTextAreaWidget","BootstrapDateWidget","BootstrapDateTimeWidget","dtValue","Date","BootstrapTimeWidget","BootstrapSelectWidget","useState","isOpen","setIsOpen","toggle","tag","minHeight","paddingBottom","active","BootstrapNumberWidget","BootstrapSliderWidget","BootstrapBooleanWidget","onRadioChange","id2","faCheck","faTimes","BootstrapMultiSelectWidget","setSelectedValues","getMultiSelectValues","newSelectedValues","x","BootstrapFieldSelect","allItems","_find","subItems","maybeFound","renderSelected","overflowY","maxHeight","isGroupItem","header","BootstrapButton","delGroup","faTrashAlt","delRuleGroup","delRule","addRuleGroup","faPlus","addRuleGroupExt","addRule","addGroup","isOnlyIcon","BootstrapButtonGroup","BootstrapConjs","BootstrapValueSources","faEllipsisV","BootstrapConfirm","BootstrapProvider","BootstrapWidgets","initializeIcons","FluentUITextWidget","FluentUITextAreaWidget","rows","FluentUIDateWidget","selectedDate","onSelectDate","FluentUIDateTimeWidget","setTime","setDate","useHour12","showSeconds","useComboBoxAsMenuWidth","FluentUITimeWidget","styles","optionsContainerWrapper","height","allowFreeform","FluentUISelectWidget","Dropdown","push","_","FluentUINumberWidget","newVal","isInteger","parseInt","parseFloat","FluentUISliderWidget","showValue","FluentUIBooleanWidget","onText","offText","Toggle","FluentUIMultiSelectWidget","setSelectedKeys","multiSelect","FluentUIFieldSelect","divKey","itemType","DropdownMenuItemType","itemOptions","onRenderTitle","FluentUIButton","typeToCommandIcon","iconProps","iconName","ActionButton","CommandBarButton","backgroundColor","FluentUIButtonGroup","FluentUIConjs","styleNot","DefaultButton","_conjunctionOptions$k","FluentUIValueSources","menuProps","canCheck","onItemClick","onRenderMenuIcon","FluentUIConfirm","FluentUIProvider","FluentUIWidgets","simulateAsyncFetch","skinToConfig","AntdConfig","MaterialConfig","MuiConfig","BootstrapConfig","FluentUIConfig","InitialConfig","simulatedAsyncFetch","conjunctions","proximity","operators","valueLabels","optionLabel","optionTextBefore","optionPlaceholder","minProximity","maxProximity","defaults","between","func","excludeOperators","merge","widgetProps","hideOperator","operatorInlineLabel","opProps","equal","not_equal","localeSettings","ru_RU","ruRU","muiRuRU","valueLabel","valuePlaceholder","fieldLabel","operatorLabel","funcLabel","fieldPlaceholder","funcPlaceholder","operatorPlaceholder","lockLabel","lockedLabel","deleteLabel","addGroupLabel","addRuleLabel","addSubRuleLabel","delGroupLabel","valueSourcesPopupTitle","removeRuleConfirmOptions","okType","removeGroupConfirmOptions","valueSourcesInfo","widget","maxNesting","canLeaveEmptyGroup","shouldCreateEmptyGroup","customFieldSelectProps","user","subfields","firstName","label2","validateValue","mainWidgetProps","login","tableName","match","bio","preferWidgets","results","product","score","cars","defaultOperator","initialEmptyWhere","vendor","year","prox1","num","funcs","getFullYear","datetime2","color2","yellow","green","orange","purple","multicolor","selecttree","multiselecttree","autocomplete","useLoadMore","forceAsyncSearch","autocompleteMultiple","stock","defaultValue","BasicFuncs","initTree","JSON","elasticSearchFormat","jsonLogicFormat","queryString","_mongodbFormat","_sqlFormat","_spelFormat","getTree","checkTree","loadTree","loadFromJsonLogic","loadFromSpel","isValidTree","preStyle","preErrorStyle","initialSkin","window","_initialSkin","emptyInitValue","loadedConfig","loadConfig","initValue","loadedInitValue","initLogic","loadedInitLogic","updateEvent","CustomEvent","detail","_initTree","_initValue","dispatchEvent","memo","useRef","tree","spelStr","spelErrors","addEventListener","onConfigChanged","removeEventListener","console","log","renderBuilder","bprops","_actions","actions","immutableTree","actionMeta","updateResult","throttle","prevState","rootPath","get","isEmptyTree","firstPath","first","lastPath","last","moveItem","removeRule","setOperator","operator","valueType","properties","conjunction","children1","newConfig","clone","showLock","treeJs","logic","logicData","data","logicErrors","errors","spel","queryStr","humanQueryStr","sql","sqlErrors","mongo","mongoErrors","elasticSearch","href","rel","renderResult"],"sourceRoot":""}